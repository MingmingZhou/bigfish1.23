<?xml version="1.0" encoding="UTF-8"?>
<site-conf xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/site-conf.xsd">
    <!--
 The controller elements that are common to all OFBiz components
     can be found in the following xml file. A component can override the
     elements found in the common-controller.xml file.
    -->
    <include location="component://common/webcommon/WEB-INF/common-controller.xml"/>
    <description>OSafe Component Site Configuration File</description>
    <errorpage>/errorPage</errorpage>


    <!-- Events run from here for the first hit in a visit -->
    <firstvisit>
        <event name="autoLoginCheck" type="java" path="org.ofbiz.webapp.control.LoginWorker" invoke="autoLoginCheck"/>
        <!-- LS 11/12/2012 - Commenting Out - not needed for Bigfish
        <event name="checkTrackingCodeCookies" type="java" path="org.ofbiz.marketing.tracking.TrackingCodeEvents" invoke="checkTrackingCodeCookies"/>
        -->
        <event name="setDefaultStoreSettings" type="java" path="org.ofbiz.product.product.ProductEvents" invoke="setDefaultStoreSettings"/>
    </firstvisit>

    <!-- Events to run on every request before security (chains exempt) -->
    <preprocessor>
        <!-- LS 11/12/2012 - Commenting Out - not needed for Bigfish
        This event allows affilate/distributor entry on any page
        <event name="checkExternalLoginKey" type="java" path="org.ofbiz.webapp.control.LoginWorker" invoke="checkExternalLoginKey"/>
        -->
        <!-- LS 08/22/2012 - Commenting Out, not using Ofbiz OOTB affiliate,distributor code 
        <event name="setAssociationId" type="java" path="org.ofbiz.ecommerce.misc.ThirdPartyEvents" invoke="setAssociationId"/>
        -->
        <!-- LS 11/12/2012 - Commenting Out - not needed for Bigfish, using checkoutConfirmCookies intead.
        <event name="checkTrackingCodeUrlParam" type="java" path="org.ofbiz.marketing.tracking.TrackingCodeEvents" invoke="checkTrackingCodeUrlParam"/>
        <event name="checkPartnerTrackingCodeUrlParam" type="java" path="org.ofbiz.marketing.tracking.TrackingCodeEvents" invoke="checkPartnerTrackingCodeUrlParam"/>
        -->
        <event name="keepCartUpdated" type="java" path="org.ofbiz.order.shoppingcart.ShoppingCartEvents" invoke="keepCartUpdated"/>
        <event name="keepCartUpdatedByVisitor" type="java" path="com.osafe.events.ShoppingCartEvents" invoke="keepCartUpdatedByVisitor"/>
        <event name="restoreAutoSaveVisitorList" type="java" path="com.osafe.events.ShoppingListEvents" invoke="restoreAutoSaveVisitorList"/>
        <event name="checkoutConfirmCookies" type="java" path="com.osafe.events.TrackCookieEvents" invoke="checkoutConfirmCookies"/>
    </preprocessor>

    <!-- Events to run on every request after all other processing (chains exempt) -->
    <postprocessor>
        <event name="saveCartToAutoSaveVisitorList" type="java" path="com.osafe.events.ShoppingListEvents" invoke="saveCartToAutoSaveVisitorList"/>
    </postprocessor>

    <after-login>
        <!-- LS 11/12/2012 - Commenting Out - not needed for Bigfish
        <event name="updateAssociatedDistributor" type="java" path="org.ofbiz.ecommerce.misc.ThirdPartyEvents" invoke="updateAssociatedDistributor"/>
        -->
        <event name="keepCartUpdated" type="java" path="org.ofbiz.order.shoppingcart.ShoppingCartEvents" invoke="keepCartUpdated"/>
        <event name="keepAutoSaveListPartyUpdated" type="java" path="com.osafe.events.ShoppingListEvents" invoke="updateAutoSaveListParty"/>
        <!-- after login, get everything from the auto-save list -->
        <event name="restoreAutoSaveList" type="java" path="com.osafe.events.ShoppingListEvents" invoke="restoreAutoSaveList"/>
        <!-- after login and restoring from the auto-save list, save everything to the auto-save list to handle anything that may have already been in the cart before login -->
        <event name="saveCartToAutoSaveList" type="java" path="com.osafe.events.ShoppingListEvents" invoke="saveCartToAutoSaveList"/>
    </after-login>
    <before-logout>
    </before-logout>

    <!-- default request; call into CMS -->
    <default-request request-uri="main"/>
    <!-- Request Mappings -->
    <request-map uri="osafe">
        <security https="false" auth="false"/>
        <event type="java" path="org.ofbiz.content.cms.CmsEvents" invoke="cms"/>
        <response name="success" type="none"/>
        <response name="error" type="view" value="error"/>
    </request-map>
    <!-- End of Request Mappings -->
    <!-- Request Mappings -->
    <request-map uri="main">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="main"/>
    </request-map>
    <request-map uri="errorPage">
        <security https="false" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/EmailEvents.xml" invoke="clearError"/>
        <response name="success" type="view" value="errorPage"/>
    </request-map>

    <!-- LOGIN/CUSTOMER  -->

    <request-map uri="checkLogin" edit="false">
        <description>Verify a user is logged in.</description>
        <security https="true" auth="false"/>
        <event type="java" path="org.ofbiz.securityext.login.LoginEvents" invoke="storeCheckLogin"/>
        <response name="success" type="view" value="main"/>
        <response name="error" type="view" value="eCommerceLogin"/>
    </request-map>
    <request-map uri="MyAccount" edit="false">
        <description>Verify a user is logged in.</description>
        <security https="true" auth="false"/>
        <event type="java" path="org.ofbiz.securityext.login.LoginEvents" invoke="storeCheckLogin"/>
        <response name="success" type="view" value="MyAccount"/>
        <response name="error" type="view" value="eCommerceLogin"/>
    </request-map>
    
    <request-map uri="shoppingListSearch" edit="false">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="shoppingListSearch"/>
        <response name="error" type="view" value="shoppingListSearch"/>
    </request-map>
    
    <request-map uri="searchShoppingList">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.SolrEvents" invoke="searchShoppingList"/>
        <response name="success" type="view" value="eCommerceProductListShoppingSearch"/>
        <response name="error" type="view" value="eCommerceSearchResultNotFound"/>
    </request-map>
    
    <request-map uri="validateLogin">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/Login.xml" invoke="validateLogin"/>
        <response name="success" type="request" value="eCommerceLogin"/>
        <response name="error" type="view" value="eCommerceLogin"/>
    </request-map>

    <request-map uri="eCommerceLogin">
        <security https="true" auth="false"/>
        <event type="java" path="org.ofbiz.securityext.login.LoginEvents" invoke="storeLogin"/>
        <response name="success" type="view" value="MyAccount"/>
        <response name="requirePasswordChange" type="view" value="eCommerceRequirePasswordChange"/>
        <response name="error" type="view" value="eCommerceLogin"/>
    </request-map>
    
    <request-map uri="eCommerceLoginChangePassword">
        <security https="true" auth="false"/>
        <event type="java" path="org.ofbiz.securityext.login.LoginEvents" invoke="storeLogin"/>
        <response name="success" type="request" value="userLoginUpdated"/>
        <response name="requirePasswordChange" type="view" value="eCommerceRequirePasswordChange"/>
        <response name="error" type="view" value="eCommerceRequirePasswordChange"/>
    </request-map>
    
    <request-map uri="userLoginUpdated">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/UserProfileEvents.xml" invoke="UserLoginUpdatedMessage"/>
        <response name="success" type="view" value="MyAccount"/>
    </request-map>
    <request-map uri="validateNewCustomerEmail">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/Login.xml" invoke="validateNewCustomerEmail"/>
        <response name="success" type="request" value="eCommerceNewCustomer"/>
        <response name="error" type="view" value="eCommerceLogin"/>
    </request-map>
    
    <request-map uri="eCommerceNewCustomer">
        <security https="true" auth="false"/>
        <response name="success" type="view" value="eCommerceNewCustomer"/>
        <response name="error" type="view" value="eCommerceLogin"/>
    </request-map>
    <request-map uri="eCommerceCreateNewCustomer">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/RegistrationEvents.xml" invoke="createCustomer"/>
        <response name="success" type="view" value="main"/>
        <response name="error" type="view" value="eCommerceNewCustomer"/>
    </request-map>
    
    <request-map uri="eCommerceFacebookLogin">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.LoginEvents" invoke="fbLogin"/>
        <response name="registrationPage" type="request" value="eCommerceNewCustomer"/>
        <response name="myAccount" type="request" value="MyAccount"/>
        <response name="error" type="view" value="eCommerceLogin"/>
    </request-map>
    
    <request-map uri="forgotPassword">
        <security https="true" auth="false"/>
        <response name="success" type="view" value="eCommerceForgotPassword"/>
    </request-map>
    <request-map uri="validateForgotPassword">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/Login.xml" invoke="validateForgotPassword"/>
        <response name="success" type="request" value="emailForgotPassword"/>
        <response name="error" type="view" value="eCommerceForgotPassword"/>
    </request-map>

    <request-map uri="emailForgotPassword">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.LoginEvents" invoke="forgotPassword"/>
        <response name="success" type="request" value="forgotPasswordEmailed"/>
        <response name="passwordEmailed" type="request" value="forgotPasswordEmailed"/>
        <response name="error" type="view" value="eCommerceForgotPassword"/>
    </request-map>

    <request-map uri="forgotPasswordEmailed">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/Login.xml" invoke="forgotPasswordEmailedSuccess"/>
        <response name="success" type="view" value="eCommerceLogin"/>
    </request-map>

    <request-map uri="eCommerceMailingList">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="eCommerceEMailSubscriber"/>
    </request-map>
    <request-map uri="eCommerceCreateEmailSubscriber">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/RegistrationEvents.xml" invoke="createEMailSubscriber"/>
        <response name="success" type="view" value="eCommerceConfirmMailingList"/>
        <response name="error" type="view" value="eCommerceEMailSubscriber"/>
    </request-map>
    <request-map uri="eCommerceConfirmMailingList">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="eCommerceConfirmMailingList"/>
    </request-map>

    <request-map uri="eCommerceConfirm">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="eCommerceConfirm"/>
    </request-map>
    
    <request-map uri="validateUpdateCustomer">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/UserProfileEvents.xml" invoke="updateCustomerPersonalInfo"/>
         <response name="success" type="request" value="sendUpdatePersonalInfoEmailNotification"/>
        <response name="error" type="view" value="eCommerceEditCustomerInfo"/>
    </request-map>
    
    <request-map uri="sendUpdatePersonalInfoEmailNotification">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/EmailEvents.xml" invoke="sendUpdatePersonalInfoEmailNotification"/>
         <response name="success" type="request" value="MyAccount"/>
         <response name="error" type="request" value="clearUpdatePersonalInfoEmailError"/>
    </request-map>
    
    <request-map uri="clearUpdatePersonalInfoEmailError">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/EmailEvents.xml" invoke="clearError"/>
         <response name="success" type="request" value="MyAccount"/>
    </request-map>
    
    <request-map uri="sendUpdatePersonalInfoEmailNotification">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/EmailEvents.xml" invoke="sendUpdatePersonalInfoEmailNotification"/>
         <response name="success" type="request" value="MyAccount"/>
         <response name="error" type="request" value="clearUpdatePersonalInfoEmailError"/>
    </request-map>
    
    <request-map uri="eCommerceEditCustomerLogin">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="eCommerceEditCustomerLogin"/>
    </request-map>
    
    <request-map uri="eCommerceEditCustomerPassword">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="eCommerceEditCustomerPassword"/>
    </request-map>
    
    <request-map uri="validateCustomerEmail">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/UserProfileEvents.xml" invoke="updateCustomerEmail"/>
         <response name="success" type="request" value="MyAccount"/>
        <response name="error" type="view" value="eCommerceEditCustomerLogin"/>
    </request-map>
    
    <request-map uri="validateCustomerPassword">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/UserProfileEvents.xml" invoke="updateCustomerPassword"/>
         <response name="success" type="request" value="MyAccount"/>
        <response name="error" type="view" value="eCommerceEditCustomerPassword"/>
    </request-map>
    
    <request-map uri="eCommerceEditCustomerInfo">
     <security https="true" auth="true"/>
     <response name="success" type="view" value="eCommerceEditCustomerInfo"/>
    </request-map>

    <request-map uri="eCommerceEditLoginInfo">
     <security https="true" auth="true"/>
     <response name="success" type="view" value="eCommerceEditLoginInfo"/>
    </request-map>

    <request-map uri="eCommerceEditAddressBook">
      <security https="true" auth="true"/>
      <response name="success" type="view" value="eCommerceEditAddressBook"/>
    </request-map>

    <request-map uri="eCommerceUpdateAddressBook">
        <security https="true" auth="true" />
        <response name="success" type="view" value="eCommerceUpdateAddressBook" />
    </request-map>
   <!-- Order Additional Email  -->
    <request-map uri="eCommerceOrderAdditionalEmail">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="setOrderAdditionalEmails"/>
        <response name="success" type="request" value="eCommerceOrderComplete"/>
        <response name="error" type="request" value="eCommerceOrderComplete"/>
    </request-map>
   <!-- Customer payment method screens -->
    <request-map uri="eCommercePaymentMethodInfo">
        <security https="true" auth="true" />
        <response name="success" type="view" value="eCommercePaymentMethodInfo" />
    </request-map>
    <request-map uri="eCommerceEditCreditCardInfo">
        <security https="true" auth="true"/>
         <response name="success" type="view" value="eCommerceEditCreditCardInfo"/>
    </request-map>
    <request-map uri="eCommerceCreateCreditCardInfo">
        <security https="true" auth="true"/>
         <response name="success" type="view" value="eCommerceCreateCreditCardInfo"/>
    </request-map>
    <request-map uri="updateCreditCardInfo">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Validation/Payment.xml" invoke="updateCreditCardInfo"/>
        <response name="success" type="request-redirect" value="eCommercePaymentMethodInfo"/>
        <response name="error" type="view" value="eCommerceEditCreditCardInfo"/>
    </request-map>
    <request-map uri="updateDefaultPmtMethod">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Validation/Payment.xml" invoke="updateDefaultPmtMethod"/>
        <response name="success" type="request-redirect" value="eCommercePaymentMethodInfo"/>
        <response name="error" type="view" value="eCommercePaymentMethodInfo"/>
    </request-map>
    <request-map uri="createCreditCardInfo">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Validation/Payment.xml" invoke="createCreditCardInfo"/>
        <response name="success" type="request-redirect" value="eCommercePaymentMethodInfo"/>
        <response name="eCommerceRecurrenceOrderDetail" type="request-redirect" value="eCommerceRecurrenceOrderDetail">
        	<redirect-parameter name="shoppingListId"/>
        	<redirect-parameter name="paymentMethodId"/>
        </response>
        <response name="error" type="view" value="eCommerceCreateCreditCardInfo"/>
    </request-map>

    <request-map uri="createCreditCardNewAddress">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
      <response name="success" type="view" value="createCreditCardNewAddress"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
    </request-map>

    <request-map uri="createCreditCardValidateNewAddress">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ValidationEvents.xml" invoke="checkUserSessionAndValidateAddress"/>
        <response name="success" type="request" value="createCreditCardUpdateNewAddress"/>
        <response name="error" type="view" value="createCreditCardNewAddress"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
    </request-map>

    <request-map uri="createCreditCardUpdateNewAddress">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Event/AddressEvents.xml" invoke="updateAddress"/>
        <response name="success" type="request" value="eCommerceCreateCreditCardInfo"/>
        <response name="error" type="view" value="createCreditCardNewAddress"/>
    </request-map>

    <request-map uri="editCreditCardNewAddress">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserLoginSession"/>
      <response name="success" type="view" value="editCreditCardNewAddress"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
    </request-map>

    <request-map uri="editCreditCardValidateNewAddress">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ValidationEvents.xml" invoke="checkUserLoginSessionAndValidateAddress"/>
        <response name="success" type="request" value="editCreditCardUpdateNewAddress"/>
        <response name="error" type="view" value="editCreditCardNewAddress"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
    </request-map>

    <request-map uri="editCreditCardUpdateNewAddress">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Event/AddressEvents.xml" invoke="updateAddress"/>
        <response name="success" type="request-redirect" value="eCommerceEditCreditCardInfo">
        	<redirect-parameter name="paymentMethodId"/>
        </response>
        <response name="error" type="view" value="editCreditCardNewAddress"/>
    </request-map>

    <request-map uri="deletePaymentMethod">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Validation/Payment.xml" invoke="deletePaymentMethod"/>
        <response name="success" type="request-redirect" value="eCommercePaymentMethodInfo"/>
        <response name="error" type="view" value="eCommercePaymentMethodInfo"/>
    </request-map>
    
    <request-map uri="addCreditCard">
        <security https="true" auth="true"/>
        <event type="simple" path="component://accounting/script/org/ofbiz/accounting/payment/PaymentMethodEvents.xml" invoke="createCreditCard"/>
        <response name="success" type="request-redirect" value="eCommercePaymentMethodInfo"/>
        <response name="error" type="view" value="eCommerceEditCreditCardInfo"/>
    </request-map>
    
    <!-- Customer EFT payment method screens -->
    <request-map uri="eCommerceEftPaymentMethodInfo">
        <security https="true" auth="true" />
        <response name="success" type="view" value="eCommerceEftPaymentMethodInfo" />
    </request-map>
    <request-map uri="eCommerceEditEftAccountInfo">
        <security https="true" auth="true"/>
         <response name="success" type="view" value="eCommerceEditEftAccountInfo"/>
    </request-map>
    <request-map uri="updateEftAccountInfo">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Validation/Payment.xml" invoke="updateEftAccountInfo"/>
        <response name="success" type="request-redirect" value="eCommerceEftPaymentMethodInfo"/>
        <response name="error" type="view" value="eCommerceEditEftAccountInfo"/>
    </request-map>
    <request-map uri="updateDefaultEftPmtMethod">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Validation/Payment.xml" invoke="updateDefaultPmtMethod"/>
        <response name="success" type="request-redirect" value="eCommerceEftPaymentMethodInfo"/>
        <response name="error" type="view" value="eCommerceEftPaymentMethodInfo"/>
    </request-map>
    <request-map uri="eCommerceCreateFftAccountInfo">
        <security https="true" auth="true"/>
         <response name="success" type="view" value="eCommerceCreateFftAccountInfo"/>
    </request-map>
    <request-map uri="createEftAccountInfo">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Validation/Payment.xml" invoke="createEftAccountInfo"/>
        <response name="success" type="request-redirect" value="eCommerceEftPaymentMethodInfo"/>
        <response name="eCommerceRecurrenceOrderDetail" type="request-redirect" value="eCommerceRecurrenceOrderDetail">
        	<redirect-parameter name="shoppingListId"/>
        	<redirect-parameter name="paymentMethodId"/>
        </response>
        <response name="error" type="view" value="eCommerceCreateFftAccountInfo"/>
    </request-map>
    
    <request-map uri="createEftNewAddress">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserLoginSession"/>
      <response name="success" type="view" value="createEftNewAddress"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
    </request-map>

    <request-map uri="createEftValidateNewAddress">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ValidationEvents.xml" invoke="checkUserLoginSessionAndValidateAddress"/>
        <response name="success" type="request" value="createEftUpdateNewAddress"/>
        <response name="error" type="view" value="createEftNewAddress"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
    </request-map>

    <request-map uri="createEftUpdateNewAddress">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Event/AddressEvents.xml" invoke="updateAddress"/>
        <response name="success" type="request" value="eCommerceCreateFftAccountInfo"/>
        <response name="error" type="view" value="createEftNewAddress"/>
    </request-map>

    <request-map uri="editEftNewAddress">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
      <response name="success" type="view" value="editEftNewAddress"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
    </request-map>

    <request-map uri="editEftValidateNewAddress">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ValidationEvents.xml" invoke="checkUserSessionAndValidateAddress"/>
        <response name="success" type="request" value="editEftUpdateNewAddress"/>
        <response name="error" type="view" value="editEftNewAddress"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
    </request-map>

    <request-map uri="editEftUpdateNewAddress">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Event/AddressEvents.xml" invoke="updateAddress"/>
        <response name="success" type="request-redirect" value="eCommerceEditEftAccountInfo">
        	<redirect-parameter name="paymentMethodId"/>
        </response>
        <response name="error" type="view" value="editEftNewAddress"/>
    </request-map>

    <request-map uri="deleteEFTPaymentMethod">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Validation/Payment.xml" invoke="deleteEFTPaymentMethod"/>
        <response name="success" type="request-redirect" value="eCommerceEftPaymentMethodInfo"/>
        <response name="error" type="view" value="eCommerceEftPaymentMethodInfo"/>
    </request-map>
    
    <request-map uri="deleteAddressBook">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Event/AddressEvents.xml" invoke="deleteAddress"/>
        <response name="success" type="request-redirect" value="eCommerceEditAddressBook"/>
        <response name="error" type="view" value="eCommerceEditAddressBook"/>
    </request-map>

    <request-map uri="updateDefaultShipAddr">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Event/AddressEvents.xml" invoke="updateDefaultShipAddr"/>
        <response name="success" type="request-redirect" value="eCommerceEditAddressBook"/>
        <response name="error" type="view" value="eCommerceEditAddressBook"/>
    </request-map>

    <!-- CONTACT US Requests -->
    <request-map uri="contactUs">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="contactUs"/>
    </request-map>

    <request-map uri="submitContactUs">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CustRequestEvents.xml" invoke="submitContactUs"/>
        <response name="success" type="request" value="eCommerceConfirmContactUs"/>
        <response name="error" type="view" value="contactUs"/>
    </request-map>

    <request-map uri="eCommerceConfirmContactUs">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="eCommerceConfirmContactUs"/>
    </request-map>

    <!-- ContactMech Requests -->
    <request-map uri="multiPageEditCheckoutShippingAddress">
        <security https="true" auth="true" />
        <response name="success" type="view"
            value="multiPageEditCheckoutShippingAddress" />
    </request-map>
    

    <request-map uri="createContactMech">
        <security https="true" auth="true"/>
        <event type="service" invoke="createPartyContactMech"/>
        <response name="success" type="view" value="eCommerceEditContactMech"/>
        <response name="error" type="view" value="eCommerceEditContactMech"/>
    </request-map>
    <request-map uri="updateContactMech">
        <security https="true" auth="true"/>
        <event type="service" invoke="updatePartyContactMech"/>
        <response name="success" type="view" value="eCommerceEditContactMech"/>
        <response name="error" type="view" value="eCommerceEditContactMech"/>
    </request-map>

    <request-map uri="validateAddressBook">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Validation/ValidationEvents.xml" invoke="validateAddress"/>
        <response name="success" type="request" value="updateAddressBook"/>
        <response name="error" type="view" value="eCommerceUpdateAddressBook"/>
    </request-map>
    <request-map uri="updateAddressBook">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Event/AddressEvents.xml" invoke="updateAddress"/>
        <response name="success" type="request-redirect" value="eCommerceEditAddressBook"/>
        <response name="eCommerceRecurrenceOrderDetail" type="request-redirect" value="eCommerceRecurrenceOrderDetail">
        	<redirect-parameter name="shoppingListId"/>
        	<redirect-parameter name="shippingContactMech"/>
        </response>
        <response name="error" type="view" value="eCommerceUpdateAddressBook"/>
    </request-map>
    <request-map uri="getAssociatedStateList">
        <security https="true" auth="false"/>
        <event type="service" invoke="getAssociatedStateList"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>
    <request-map uri="getPostalAddress">
        <security https="true" auth="false"/>
        <event type="service" invoke="getPostalAddress"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>


    <!-- Dialog screens -->
    <request-map uri="eCommercePlpQuickLook">
        <!-- event type="groovy" path="component://osafe/webapp/osafe/WEB-INF/actions/common/eCommerceProductScroller.groovy"/>  -->
        <response name="success" type="view" value="eCommercePlpQuickLook"/>
        <response name="error" type="view" value="eCommercePlpQuickLook"/>
    </request-map>

    <!-- CATEGORY/PRODUCT -->
    <request-map uri="eCommerceCategoryList">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.SolrEvents" invoke="solrSearch"/>
        <response name="success" type="view" value="eCommerceCategoryList"/>
    </request-map>
    <request-map uri="eCommerceProductList">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.SolrEvents" invoke="solrSearch"/>
        <response name="success" type="view" value="eCommerceProductList"/>
    </request-map>
    
    
    <request-map uri="siteSearch">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.SolrEvents" invoke="solrSearch"/>
        <response name="success" type="view" value="eCommerceProductList"/>
        <response name="error" type="request" value="addAllWordSearch"/>
    </request-map>
    
    <request-map uri="addAllWordSearch">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.SolrEvents" invoke="addAllWordSearch"/>
        <response name="success" type="request" value="solrAllWordSearch"/>
    </request-map>
    
    <request-map uri="solrAllWordSearch">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.SolrEvents" invoke="solrSearch"/>
        <response name="success" type="view" value="eCommerceProductList"/>
        <response name="error" type="request" value="addWildCardSearch"/>
    </request-map>
    
    <request-map uri="addWildCardSearch">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.SolrEvents" invoke="addWildCardSearch"/>
        <response name="success" type="request" value="solrWildCardSearch"/>
    </request-map>
    <request-map uri="solrWildCardSearch">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.SolrEvents" invoke="solrSearch"/>
        <response name="success" type="view" value="eCommerceProductList"/>
        <response name="error" type="request" value="solrSpellCheck"/>
    </request-map>
    <request-map uri="solrSpellCheck">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.SolrEvents" invoke="solrSpellCheck"/>
        <response name="success" type="request" value="siteSearchSpellCheck"/>
    </request-map>
    <request-map uri="siteSearchSpellCheck">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.SolrEvents" invoke="solrSearch"/>
        <response name="success" type="view" value="eCommerceProductList"/>
        <response name="error" type="view" value="eCommerceSearchResultNotFound"/>
    </request-map>
    
    <request-map uri="findAutoSuggestions">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.SolrEvents" invoke="autoSuggestionList"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>
    
    <request-map uri="eCommerceProductDetail">
        <security https="false" auth="false"/>
        <event type="groovy" path="component://osafe/webapp/osafe/WEB-INF/actions/common/eCommerceProductScroller.groovy"/>
        <response name="success" type="view" value="eCommerceProductDetail"/>
        <response name="error" type="view" value="eCommerceProductDetail"/>
    </request-map>
    
    <request-map uri="sortReview">
        <security https="false" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/ProductReviewEvents.xml" invoke="reloadProductReviews"/>
        <response name="sortPdpReview" type="view" value="sortPdpReview"/>
        <response name="sortPdpTabsReview" type="view" value="sortPdpTabsReview"/>
        <response name="sortQuicklookReview" type="view" value="sortQuicklookReview"/>
    </request-map>
    

    <request-map uri="eCommerceProductReviewSubmit">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="eCommerceProductReviewSubmit"/>
    </request-map>
    <request-map uri="eCommerceProductReviewSubmitLogged">
        <security https="false" auth="true"/>
        <response name="success" type="view" value="eCommerceProductReviewSubmitLogged"/>
    </request-map>

    <request-map uri="ratingsTermsAndConditions">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="ratingsTermsAndConditions"/>
    </request-map>
    
    <request-map uri="eCommerceCreateProductReview">
        <security https="false" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/ProductReviewEvents.xml" invoke="createProductReview"/>
        <response name="success" type="request" value="eCommerceSubmitRatingsThankyou"/>
        <response name="error" type="view" value="eCommerceProductReviewSubmit"/>
    </request-map>
    <request-map uri="eCommerceCreateProductReviewLogged">
        <security https="false" auth="true"/>
        <event type="simple" path="component://osafe/script/Event/ProductReviewEvents.xml" invoke="createProductReview"/>
        <response name="success" type="request" value="eCommerceSubmitRatingsThankyou"/>
        <response name="error" type="view" value="eCommerceProductReviewSubmitLogged"/>
    </request-map>

    <request-map uri="eCommerceSubmitRatingsThankyou">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="eCommerceSubmitRatingsThankyou"/>
    </request-map>

    <request-map uri="createProductReviewAjax">
        <event type="java" path="com.osafe.events.ProductEvents" invoke="createProductReview" />
        <response name="success" type="view" value="ajaxSuccessResponse"/>
        <response name="error" type="view" value="ajaxFailResponse"/>
    </request-map>


    <request-map uri="ratingsGuideLines">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="ratingsGuideLines"/>
    </request-map>

    <request-map uri="submit-ratings-reviews-email">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="submitRatingsReview"/>
    </request-map>

    <!-- MANUFACTURER -->
    <request-map uri="eCommerceManufacturerDetail">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="eCommerceManufacturerDetail"/>
    </request-map>
    
    <request-map uri="addManufacturerItemToCart">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="addPlpItemToCart"/>
        <response name="success" type="request-redirect" value="eCommerceManufacturerDetail"/>
        <response name="error" type="view-last" value="main"/>
    </request-map>
    
    <request-map uri="addManufacturerItemToWishlist">
        <security https="true" auth="true"/>
        <event type="java" path="com.osafe.events.WishListEvents" invoke="addPlpItemToWishList"/>
        <response name="success" type="request-redirect" value="eCommerceManufacturerDetail"/>
        <response name="error" type="view-last" value="main"/>
    </request-map>


    <!-- SOLR -->
    <request-map uri="genProductsIndex">
        <security https="false" auth="false"/>
        <event type="service" path="" invoke="genProductsIndex"/>
        <response name="success" type="none"/>
    </request-map>

    <!-- CONTENT -->
    <request-map uri="eCommerceContent">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="eCommerceContent"/>
    </request-map>

    <request-map uri="eCommerceStaticContent">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="eCommerceStaticContent"/>
    </request-map>


    <!-- SHOPPING Wish List -->
    <request-map uri="eCommerceShowWishList">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="eCommerceShowWishList"/>
    </request-map>

    <request-map uri="modifyWishList">
        <security https="true" auth="true"/>
        <event type="java" path="com.osafe.events.WishListEvents" invoke="modifyWishList"/>
        <response name="success" type="request" value="eCommerceShowWishList"/>
        <response name="error" type="view" value="eCommerceShowWishList"/>
    </request-map>

    <request-map uri="addItemToWishList">
        <security https="true" auth="true"/>
        <event type="java" path="com.osafe.events.WishListEvents" invoke="addToWishList"/>
        <response name="success" type="request-redirect" value="eCommerceShowWishList"/>
        <response name="error" type="view" value="eCommerceShowWishList"/>
    </request-map>

    <request-map uri="addMultiItemsToWishlist">
        <security https="true" auth="true"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="addMultiItemsToWishlist"/>
        <response name="success" type="request-redirect" value="eCommerceShowWishList"/>
        <response name="error" type="view" value="eCommerceShowWishList"/>
    </request-map>

    <request-map uri="deleteFromWishList">
        <security https="true" auth="true"/>
        <event type="java" path="com.osafe.events.WishListEvents" invoke="deleteFromWishList"/>
        <response name="success" type="request" value="eCommerceShowWishList"/>
        <response name="error" type="view" value="eCommerceShowWishList"/>
    </request-map>

    <request-map uri="addToCartFromWishList">
        <security https="true" auth="true"/>
        <event type="java" path="com.osafe.events.WishListEvents" invoke="addToCartFromWishList"/>
        <response name="success" type="request-redirect" value="resetPaymentMethodWishlist"/>
        <response name="error" type="view" value="eCommerceShowWishList"/>
    </request-map>

    <request-map uri="addMultiItemsToCartFromWishList">
        <security https="true" auth="true"/>
        <event type="java" path="com.osafe.events.WishListEvents" invoke="addMultiItemsToCartFromWishList"/>
        <response name="success" type="request" value="resetPaymentMethodWishlist"/>
        <response name="error" type="view" value="eCommerceShowWishList"/>
    </request-map>

    <request-map uri="resetPaymentMethodWishlist">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="resetPaymentMethod"/>
        <response name="success" type="request" value="resetMultiShipGroupsWishlist"/>
        <response name="error" type="view" value="eCommerceShowWishList"/>
    </request-map>
    
    <request-map uri="resetMultiShipGroupsWishlist">
        <security https="false" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="resetMultiShipGroups"/>
        <response name="success" type="request" value="eCommerceShowWishList"/>
        <response name="error" type="view" value="eCommerceShowWishList"/>
    </request-map>


    <!-- SHOPPING CART -->
    <request-map uri="eCommerceShowcart">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="eCommerceShowcartCheckSession">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
        <response name="success" type="request-redirect" value="eCommerceShowcart"/>
        <response name="error" type="request-redirect" value="eCommerceShowcart"/>  
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="modifycart">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkMyCartUserSession"/>
        <response name="success" type="request" value="modifyShowCart"/>
        <response name="error" type="view" value="eCommerceShowcart"/>  
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="modifyShowCart">
        <security https="true" auth="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.ShoppingCartEvents" invoke="modifyCart"/>
        <response name="success" type="request" value="resetPaymentMethod"/>
        <response name="error" type="view" value="eCommerceShowcart"/>  
    </request-map>
    
    <request-map uri="modifyShowCartRecurrence">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkMyCartUserSession"/>
        <response name="success" type="request" value="modifyShowCartRecurrenceProcess"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="modifyShowCartRecurrenceProcess">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="modifyCartRecurrence"/>
        <response name="success" type="request" value="resetPaymentMethod"/>
        <response name="error" type="view" value="eCommerceShowcart"/>  
    </request-map>

    <request-map uri="resetPaymentMethod">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="resetPaymentMethod"/>
        <response name="success" type="request" value="resetMultiShipGroups"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="resetMultiShipGroups">
        <security https="false" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="resetMultiShipGroups"/>
        <response name="success" type="request" value="updateCartShowCart"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="updateCartShowCart">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="updateCartOnChange"/>
      <response name="success" type="request-redirect" value="eCommerceShowcart"/>
      <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="deleteFromCart">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkMyCartUserSession"/>
        <response name="success" type="request" value="deleteFromShoppingCart"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="deleteFromShoppingCart">
        <security https="false" auth="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.ShoppingCartEvents" invoke="deleteFromCart"/>
        <response name="success" type="request" value="resetPaymentMethod"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="addItemToCart">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="addToCartCustom"/>
        <response name="success" type="request" value="setProductCategory"/>
        <response name="survey" type="view" value="survey"/>
        <response name="product" type="view" value="product"/>
        <response name="viewcart" type="request" value="eCommerceShowcart"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>

<!-- Add item to cart and redirect to checkout flow -->    
    <request-map uri="addItemToCartCheckout">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="addToCartCustom"/>
        <response name="success" type="request" value="setProductCategoryCheckout"/>
        <response name="survey" type="view" value="survey"/>
        <response name="product" type="view" value="product"/>
        <response name="viewcart" type="request" value="eCommerceShowcart"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="setProductCategoryCheckout">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="setProductCategoryId"/>
        <response name="success" type="request" value="resetPaymentMethodCheckout"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="resetPaymentMethodCheckout">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="resetPaymentMethod"/>
        <response name="success" type="request" value="resetMultiShipGroupsCheckout"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="resetMultiShipGroupsCheckout">
        <security https="false" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="resetMultiShipGroups"/>
        <response name="success" type="request" value="updateCartShowCartCheckout"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="updateCartShowCartCheckout">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="updateCartOnChange"/>
      <response name="success" type="request" value="checkout"/>
      <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>
    
<!-- Add item to cart and redirect to checkout flow -->    
    
    <request-map uri="addRecurrenceItemToCart">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="addRecurrenceItemToCart"/>
        <response name="success" type="request" value="setProductCategory"/>
        <response name="survey" type="view" value="survey"/>
        <response name="product" type="view" value="product"/>
        <response name="viewcart" type="request-redirect" value="eCommerceShowcart"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="addMultiItemsToCart">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="addMultiItemsToCart"/>
        <response name="success" type="request" value="resetPaymentMethod"/>
        <response name="survey" type="view" value="survey"/>
        <response name="product" type="view" value="product"/>
        <response name="viewcart" type="request-redirect" value="eCommerceShowcart"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="addPlpItemToCart">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="addPlpItemToCart"/>
        <response name="success" type="request" value="resetPaymentMethodPlp"/>
        <response name="error" type="view-last" value="main"/>
    </request-map>
    
    <request-map uri="resetPaymentMethodPlp">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="resetPaymentMethod"/>
        <response name="success" type="request" value="resetMultiShipGroupsPlp"/>
        <response name="error" type="view" value="eCommerceProductList"/>
    </request-map>
    
    <request-map uri="resetMultiShipGroupsPlp">
        <security https="false" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="resetMultiShipGroups"/>
        <response name="success" type="request-redirect" value="eCommerceProductList"/>
        <response name="error" type="view-last" value="main"/>
    </request-map>
    
    <request-map uri="addPlpItemToCartSearch">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="addPlpItemToCart"/>
        <response name="success" type="request" value="resetPaymentMethodPlpSearch"/>
        <response name="error" type="view-last" value="main"/>
    </request-map>
    
    <request-map uri="resetPaymentMethodPlpSearch">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="resetPaymentMethod"/>
        <response name="success" type="request" value="resetMultiShipGroupsPlpSearch"/>
        <response name="error" type="request-redirect" value="siteSearch">
            <redirect-parameter name="searchText"/>
        </response>
    </request-map>
    
    <request-map uri="resetMultiShipGroupsPlpSearch">
        <security https="false" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="resetMultiShipGroups"/>
        <response name="success" type="request-redirect" value="siteSearch">
            <redirect-parameter name="searchText"/>
        </response>
        <response name="error" type="view-last" value="main"/>
    </request-map>
    
    <request-map uri="addPlpItemToCartMultiSearch">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="addPlpItemToCart"/>
        <response name="success" type="request-redirect" value="resetPaymentMethodPlpMultiSearch">
        </response>
        <response name="error" type="view-last" value="main"/>
    </request-map>
    
    <request-map uri="resetPaymentMethodPlpMultiSearch">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="resetPaymentMethod"/>
        <response name="success" type="request-redirect" value="resetMultiShipGroupsPlpMultiSearch">
        </response>
        <response name="error" type="request" value="searchShoppingList"/>
            
    </request-map>
    
    <request-map uri="resetMultiShipGroupsPlpMultiSearch">
        <security https="false" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="resetMultiShipGroups"/>
        <response name="success" type="request-redirect" value="searchShoppingList">
        </response>
            
        <response name="error" type="view-last" value="main"/>
    </request-map>
    

    <request-map uri="addPlpItemToCartFromPdp">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="addPlpItemToCart"/>
        <response name="success" type="request" value="resetPaymentMethodPdp"/>
        <response name="error" type="view-last" value="main"/>
    </request-map>
    
    <request-map uri="resetPaymentMethodPdp">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="resetPaymentMethod"/>
        <response name="success" type="request" value="resetMultiShipGroupsPdp"/>
        <response name="error" type="view" value="eCommerceShowWishList"/>
    </request-map>
    
    <request-map uri="resetMultiShipGroupsPdp">
        <security https="false" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="resetMultiShipGroups"/>
        <response name="success" type="request-redirect" value="eCommerceProductDetail"/>
        <response name="error" type="view-last" value="main"/>
    </request-map>

    <request-map uri="addPlpItemToWishlist">
        <security https="true" auth="true"/>
        <event type="java" path="com.osafe.events.WishListEvents" invoke="addPlpItemToWishList"/>
        <response name="success" type="request-redirect" value="eCommerceProductList"/>
        <response name="error" type="view-last" value="main"/>
    </request-map>
    
    <request-map uri="addPlpItemToWishlistSearch">
        <security https="true" auth="true"/>
        <event type="java" path="com.osafe.events.WishListEvents" invoke="addPlpItemToWishList"/>
        <response name="success" type="request-redirect" value="siteSearch">
            <redirect-parameter name="searchText"/>
        </response>
        <response name="error" type="view-last" value="main"/>
    </request-map>
    
    <request-map uri="addPlpItemToWishlistMultiSearch">
        <security https="true" auth="true"/>
        <event type="java" path="com.osafe.events.WishListEvents" invoke="addPlpItemToWishList"/>
        <response name="success" type="request-redirect" value="searchShoppingList">
        </response>
        <response name="error" type="view-last" value="main"/>
    </request-map>
    
    <request-map uri="addPlpItemToWishlistFromPdp">
        <security https="true" auth="true"/>
        <event type="java" path="com.osafe.events.WishListEvents" invoke="addPlpItemToWishList"/>
        <response name="success" type="request-redirect" value="eCommerceProductDetail"/>
        <response name="error" type="view-last" value="main"/>
    </request-map>
    
    <request-map uri="uploadFileFromPdp">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="uploadFileToSession"/>
        <response name="success" type="request-redirect" value="eCommerceProductDetail"/>
        <response name="error" type="view-last" value="eCommerceProductDetail"/>
    </request-map>
    
    <request-map uri="eCommerceUploadFile">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="eCommerceUploadFile"/>
        <response name="error" type="view" value="eCommerceUploadFile"/>
    </request-map>
    
    <request-map uri="updatePersonalizationMap">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="updatePersonalizationMap"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>

    <request-map uri="setProductCategory">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="setProductCategoryId"/>
        <response name="success" type="request" value="resetPaymentMethod"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="validateCartPromoCode">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ShoppingCart.xml" invoke="validateCartPromoCodeCheckUserSession"/>
        <response name="success" type="request" value="addCartPromoCode"/>
        <response name="error" type="view" value="multiPageOrderSummary"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="addCartPromoCode">
        <security https="true" auth="true"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.ShoppingCartEvents" invoke="addProductPromoCode"/>
        <response name="success" type="request" value="multiPageUpdateCart"/>
        <response name="error" type="request" value="multiPageOrderSummary"/>
    </request-map>
    
    <request-map uri="removeCartPromoCode">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ShoppingCart.xml" invoke="removeCartPromoCodeCheckUserSession"/>
        <response name="success" type="request" value="multiPageUpdateCart"/>
        <response name="error" type="request" value="multiPageOrderSummary"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="multiPageUpdateCart">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="updateCartOnChange"/>
      <response name="success" type="view" value="multiPageOrderSummary"/>
      <response name="error" type="view" value="multiPageOrderSummary"/>
    </request-map>
    
    <request-map uri="validateLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ShoppingCart.xml" invoke="validateLoyaltyPointsCheckUserSession"/>
        <response name="success" type="request" value="addLoyaltyPoints"/>
        <response name="error" type="view" value="multiPageOrderSummary"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="addLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="addLoyaltyPoints"/>
        <response name="success" type="request" value="multiPageUpdateCart"/>
        <response name="error" type="view" value="multiPageOrderSummary"/>
    </request-map>
    
    <request-map uri="removeLoyaltyPoints">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
      <response name="success" type="request" value="removeLoyaltyPointsAfterSessionCheck"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
      <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="removeLoyaltyPointsAfterSessionCheck">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="removeLoyaltyPoints"/>
        <response name="success" type="request" value="multiPageUpdateCart"/>
        <response name="error" type="view" value="multiPageOrderSummary"/>
    </request-map>
    
    <request-map uri="validateUpdateLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ShoppingCart.xml" invoke="validateUpdateLoyaltyPointsCheckUserSession"/>
        <response name="success" type="request" value="updateLoyaltyPoints"/>
        <response name="error" type="view" value="multiPageOrderSummary"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="updateLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="updateLoyaltyPoints"/>
        <response name="success" type="request" value="multiPageUpdateCart"/>
        <response name="error" type="request-redirect" value="multiPageOrderSummary"/>
    </request-map>
    
    <request-map uri="validateShowCartPromoCode">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ShoppingCart.xml" invoke="validateShowCartPromoCodeCheckUserSession"/>
        <response name="success" type="request" value="addShowCartPromoCode"/>
        <response name="error" type="request-redirect" value="eCommerceShowcart"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="addShowCartPromoCode">
        <security https="true" auth="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.ShoppingCartEvents" invoke="addProductPromoCode"/>
        <response name="success" type="request-redirect" value="showCartUpdateCart"/>
        <response name="error" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="removeShowCartPromoCode">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ShoppingCart.xml" invoke="removeShowCartPromoCodeCheckUserSession"/>
        <response name="success" type="request-redirect" value="showCartUpdateCart"/>
        <response name="error" type="request-redirect" value="eCommerceShowcart"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="showCartUpdateCart">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="updateCartOnChange"/>
      <response name="success" type="view" value="eCommerceShowcart"/>
      <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="eCommerceGiftMessage">
        <security https="false" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkShoppingCartSession"/>
        <response name="success" type="view" value="eCommerceGiftMessage"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="eCommerceOrderConfirmGiftMessage">
        <security https="true" auth="false"/>
        <response name="success" type="view" value="eCommerceOrderConfirmGiftMessage"/>
    </request-map>
    
    <request-map uri="setGiftMessage">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkShoppingCartSession"/>
        <response name="success" type="request" value="setGiftMessageAfterSessionCheck"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="setGiftMessageAfterSessionCheck">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="setGiftMessage"/>
        <response name="success" type="request-redirect" value="eCommerceShowcart"/>
        <response name="error" type="view" value="eCommerceGiftMessage"/>
    </request-map>
    
    <request-map uri="setGiftMessageConfirm">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="setGiftMessageConfirm"/>
        <response name="success" type="request-redirect" value="eCommerceOrderComplete">
            <redirect-parameter name="orderId"/>
        </response>
        <response name="error" type="view" value="eCommerceOrderConfirmGiftMessage"/>
    </request-map>
    
    <request-map uri="validateShowCartLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ShoppingCart.xml" invoke="validateShowCartLoyaltyPointsCheckCartSession"/>
        <response name="success" type="request" value="addShowCartLoyaltyPoints"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="addShowCartLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="addLoyaltyPoints"/>
        <response name="success" type="request" value="showCartUpdateCart"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="removeShowCartLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkMyCartUserSession"/>
        <response name="success" type="request" value="removeShowCartLoyaltyPointsAfterSessionCheck"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="removeShowCartLoyaltyPointsAfterSessionCheck">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="removeLoyaltyPoints"/>
        <response name="success" type="request" value="showCartUpdateCart"/>
        <response name="error" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="validateShowCartUpdateLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ShoppingCart.xml" invoke="validateShowCartUpdateLoyaltyPointsCheckUserSession"/>
        <response name="success" type="request" value="updateShowCartLoyaltyPoints"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="updateShowCartLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="updateLoyaltyPoints"/>
        <response name="success" type="request" value="showCartUpdateCart"/>
        <response name="error" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="updateShowCartRecurrenceFreq">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkMyCartUserSession"/>
        <response name="success" type="request" value="updateShowCartRecurrenceFreqProcess"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="updateShowCartRecurrenceFreqProcess">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="updateRecurrenceFrequency"/>
        <response name="success" type="view" value="eCommerceShowcart"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>
    
<!--  -->
    <request-map uri="checkout">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkMyCartUserSession"/>
        <response name="success" type="request" value="validateCartQuantity"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="validateCartQuantity">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Validation/ShoppingCart.xml" invoke="validateCartQuantity"/>
        <response name="success" type="request" value="getCheckoutFlow"/>
        <response name="inValidCartQuantity" type="request" value="eCommerceShowcart"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    

<!-- CART/CHECK OUT FLOW -->


    <request-map uri="validateAnonCustomerEmail">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/Login.xml" invoke="validateAnonCustomerEmail"/>
        <response name="success" type="request" value="getCheckoutFlow"/>
        <response name="error" type="view" value="eCommerceLogin"/>
    </request-map>

    <request-map uri="getCheckoutFlow">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="getCheckoutFlow"/>
        <response name="anonSinglePage" type="request" value="anonSinglePage"/>
        <response name="singlePage" type="request" value="singlePage"/>
        <response name="anonMultiPage" type="request" value="anonMultiPage"/>
        <response name="multiPage" type="request" value="multiPage"/>
        <response name="error" type="view-last"/>
    </request-map>

<!-- START ANONYMOUS SINGLE PAGE CHECK OUT FLOW -->
    <request-map uri="anonSinglePage">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkShoppingCartSession"/>
      <response name="success" type="request" value="anonSinglePageCheckout"/>
      <response name="error" type="view" value="eCommerceShowcart"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="anonSinglePageCheckout">
      <security https="true" auth="false"/>
      <response name="success" type="view" value="anonSinglePageCheckout"/>
    </request-map>

    <request-map uri="anonSinglePageUpdateShippingOption">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="setShippingAddressToCart"/>
      <response name="success" type="view" value="anonSinglePageShippingOptions"/>
      <response name="error" type="view" value="anonSinglePageShippingOptions"/>
    </request-map>

    <request-map uri="anonSinglePageSetShippingOption">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="setShippingOption"/>
        <response name="success" type="request" value="anonSinglePageResetPaymentMethods"/>
        <response name="error" type="view" value="anonSinglePageCheckoutOrderItemsSummary"/>
    </request-map>

    <request-map uri="anonSinglePageResetPaymentMethods">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="resetPaymentMethod"/>
        <response name="success" type="request" value="anonSinglePageUpdateCartShippingOptions"/>
        <response name="error" type="view" value="anonSinglePageCheckoutOrderItemsSummary"/>
    </request-map>

    <request-map uri="anonSinglePageUpdateCartShippingOptions">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="updateCartOnChange"/>
      <response name="success" type="view" value="anonSinglePageCheckoutOrderItemsSummary"/>
      <response name="error" type="view" value="anonSinglePageCheckoutOrderItemsSummary"/>
    </request-map>
    
    <request-map uri="anonSinglePageRefreshLoyaltyPoints">
        <security https="true" auth="false"/>
        <response name="success" type="view" value="anonSinglePageLoyaltyPoints"/>
        <response name="error" type="view" value="anonSinglePageLoyaltyPoints"/>
    </request-map>

    <request-map uri="anonSinglePageRefreshGiftCard">
        <security https="true" auth="false"/>
        <response name="success" type="view" value="anonSinglePageGiftCard"/>
        <response name="error" type="view" value="anonSinglePageGiftCard"/>
    </request-map>
    


    <request-map uri="anonSinglePagePromoCode">
        <security https="true" auth="false"/>
        <response name="success" type="request" value="anonSinglePageUpdateCartSinglePagePromoCode"/>
        <response name="error" type="view" value="anonSinglePagePromoCode"/>
    </request-map>
    
    <request-map uri="anonSinglePageUpdateCartSinglePagePromoCode">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="updateCartOnChange"/>
      <response name="success" type="view" value="anonSinglePagePromoCode"/>
      <response name="error" type="view" value="anonSinglePagePromoCode"/>
    </request-map>

    <request-map uri="anonSinglePageValidatePromoCode">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ShoppingCart.xml" invoke="validateCartPromoCodeCheckCartSession"/>
        <response name="success" type="request" value="anonSinglePageAddPromoCode"/>
        <response name="error" type="view" value="anonSinglePageCheckout"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="anonSinglePageRemovePromoCode">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ShoppingCart.xml" invoke="removeCartPromoCodeCheckCartSession"/>
        <response name="success" type="request" value="anonSinglePageUpdateCartSinglePageCheckout"/>
        <response name="error" type="view" value="anonSinglePageCheckout"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="anonSinglePageAddPromoCode">
        <security https="true" auth="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.ShoppingCartEvents" invoke="addProductPromoCode"/>
        <response name="success" type="request" value="anonSinglePageUpdateCartSinglePageCheckout"/>
        <response name="error" type="view" value="anonSinglePageCheckout"/>
    </request-map>
    
    <request-map uri="anonSinglePageUpdateCartSinglePageCheckout">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="updateCartOnChange"/>
      <response name="success" type="view" value="anonSinglePageCheckout"/>
      <response name="error" type="view" value="anonSinglePageCheckout"/>
    </request-map>

    <request-map uri="validateAnonSinglePageLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ShoppingCart.xml" invoke="validateLoyaltyPointsCheckCartSession"/>
        <response name="success" type="request" value="anonSinglePageAddLoyaltyPoints"/>
        <response name="error" type="view" value="anonSinglePageCheckout"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="anonSinglePageAddLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="addLoyaltyPoints"/>
        <response name="success" type="request" value="anonSinglePageUpdateCartSinglePageCheckout"/>
        <response name="error" type="view" value="anonSinglePageCheckout"/>
    </request-map>
    <request-map uri="anonSinglePageRemoveLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkShoppingCartSession"/>
        <response name="success" type="request" value="anonSinglePageRemoveLoyaltyPointsAfterSessionCheck"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="anonSinglePageRemoveLoyaltyPointsAfterSessionCheck">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="removeLoyaltyPoints"/>
        <response name="success" type="request" value="anonSinglePageUpdateCartSinglePageCheckout"/>
        <response name="error" type="view" value="anonSinglePageCheckout"/>
    </request-map>

    <request-map uri="validateAnonSinglePageUpdateLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ShoppingCart.xml" invoke="validateUpdateLoyaltyPointsCheckCartSession"/>
        <response name="success" type="request" value="anonSinglePageUpdateLoyaltyPoints"/>
        <response name="error" type="view" value="anonSinglePageCheckout"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="anonSinglePageUpdateLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="updateLoyaltyPoints"/>
        <response name="success" type="request" value="anonSinglePageUpdateCartSinglePageCheckout"/>
        <response name="error" type="request-redirect" value="anonSinglePageCheckout"/>
    </request-map>
    
    <request-map uri="anonSinglePageReloadBalance">
        <security https="true" auth="false"/>
        <response name="success" type="view" value="singlePageOrderPayment"/>
        <response name="error" type="view" value="singlePageOrderPayment"/>
    </request-map>

    <request-map uri="anonSinglePageSubmitOrder">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkCartInventory"/>
      <response name="success" type="request" value="anonSinglePageGenerateOrder"/>
      <response name="error" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="anonSinglePageGenerateOrder">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="anonSinglePageSubmitOrder"/>
      <response name="success" type="request" value="anonSinglePageCalcShipping"/>
      <response name="creditCard" type="request" value="anonSinglePageCalcShipping"/>
      <response name="cod" type="request" value="anonSinglePageCalcShipping"/>
      <response name="eft" type="request" value="anonSinglePageCalcShipping"/>
      <response name="error" type="view" value="anonSinglePageCheckout"/>
      <response name="paymentError" type="request" value="anonSinglePageProcesspaymentError"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="anonSinglePageSetPaymentMethodOnCart">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="setPaymentMethodOnCart"/>
        <response name="calcTax" type="request" value="anonSinglePageCalculateTax"/>
        <response name="success" type="request" value="anonSinglePageCalcShipping"/>
        <response name="error" type="view" value="anonSinglePageCheckout"/>
    </request-map>

    <request-map uri="anonSinglePageCalcShipping">
        <security direct-request="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="setShippingTotalOnCart"/>
        <response name="success" type="request" value="anonSinglePageCalculateTax"/>
        <response name="error" type="request" value="anonSinglePageCheckout"/>
    </request-map>
    
    <request-map uri="anonSinglePageCalculateTax">
        <security direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="calculateTax"/>
        <response name="success" type="request" value="anonSinglePageCheckPaymentMethods"/>
        <response name="error" type="request" value="anonSinglePageCheckout"/>
    </request-map>
    
    <request-map uri="anonSinglePageCheckPaymentMethods">
        <security direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="checkPaymentMethods"/>
        <response name="success" type="request" value="anonSinglePageProcessCartAttribute"/>
        <response name="error" type="request" value="anonSinglePageCheckout"/>
    </request-map>

    <request-map uri="anonSinglePageProcessCartAttribute">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="processCartAttribute"/>
      <response name="success" type="request" value="anonSinglePageProcessCartRecurrence"/>
    </request-map>

    <request-map uri="anonSinglePageProcessCartRecurrence">
      <security https="true" auth="false"/>
      <event type="java" path="com.osafe.events.CheckOutEvents" invoke="processCartRecurrence"/>
      <response name="success" type="request" value="anonSinglePageProcessorder"/>
    </request-map>

    <request-map uri="anonSinglePageProcessorder">
        <security https="true" auth="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="createOrder"/>
        <response name="sales_order" type="request" value="anonSinglePageCheckBlacklist"/>
        <response name="work_order" type="request" value="anonSinglePageCheckBlacklist"/>
        <response name="error" type="view" value="anonSinglePageCheckout"/>
    </request-map>

    <request-map uri="anonSinglePageCheckBlacklist">
        <security direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="checkOrderBlacklist"/>
        <response name="success" type="request" value="anonSinglePageProcesspayment"/>
<!--         <response name="failed" type="request" value="anonSinglePageFailedBlacklist"/> -->
        <response name="error" type="view" value="anonSinglePageCheckout"/>
    </request-map>

    <request-map uri="anonSinglePageProcesspayment">
        <security https="true" direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="processPayment"/>
        <response name="success" type="request" value="anonSinglePageCheckExternalPayment"/>
        <response name="fail" type="request" value="anonSinglePageProcesspaymentFail"/>
        <response name="error" type="request" value="anonSinglePageProcesspaymentError"/>
    </request-map>

    <request-map uri="anonSinglePageCheckExternalPayment">
        <security https="true" direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="checkExternalPayment"/>
        <response name="none" type="request" value="anonSinglePageAutoCapturePayments"/>
        <response name="offline" type="request" value="anonSinglePageProcessBigfishInventory"/>
        <response name="worldpay" type="request" value="anonSinglePageProcessBigfishInventory"/>
        <response name="paypal" type="request" value="anonSinglePageProcessBigfishInventory"/>
        <response name="billact" type="request" value="anonSinglePageProcessBigfishInventory"/>
        <response name="cod" type="request" value="anonSinglePageProcessBigfishInventory"/>
        <response name="ebs" type="request" value="anonSinglePageAutoCapturePayments"/>
        <response name="paynetz" type="request" value="anonSinglePageAutoCapturePayments"/>
        <response name="error" type="view" value="anonSinglePageCheckout"/>
    </request-map>

    <request-map uri="anonSinglePageAutoCapturePayments">
        <security https="true" direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="autoCaptureAuthPayments"/>
        <response name="success" type="request" value="anonSinglePageProcessBigfishInventory"/>
        <response name="fail" type="request" value="anonSinglePageProcesspaymentFail"/>
        <response name="error" type="request" value="anonSinglePageProcesspaymentError"/>
    </request-map>

    <request-map uri="anonSinglePageProcesspaymentFail">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="processpaymentFail"/>
        <response name="success" type="request" value="anonSinglePageCheckout"/>
        <response name="error" type="request" value="anonSinglePageCheckout"/>
    </request-map>

    <request-map uri="anonSinglePageProcesspaymentError">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="processpaymentError"/>
        <response name="success" type="view" value="anonSinglePageCheckout"/>
        <response name="error" type="view" value="anonSinglePageCheckout"/>
    </request-map>

    <request-map uri="anonSinglePageProcessBigfishInventory">
        <security direct-request="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="processBigfishInventory"/>
        <response name="success" type="request" value="anonSinglePageProcessRecurrenceItems"/>
        <response name="error" type="view" value="anonSinglePageCheckout"/>
    </request-map>

    <request-map uri="anonSinglePageProcessRecurrenceItems">
        <security direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="processCartRecurrenceItems"/>
        <response name="success" type="request" value="anonSinglePageProcessOrderAdjustmentAttributes"/>
        <response name="error" type="view" value="anonSinglePageCheckout"/>
    </request-map>
    
    <request-map uri="anonSinglePageProcessOrderAdjustmentAttributes">
        <security direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="processOrderAdjustmentAttributes"/>
        <response name="success" type="request" value="anonSinglePageRedeemMemberLoyaltyPoints"/>
        <response name="error" type="view" value="anonSinglePageCheckout"/>
    </request-map>
    
    <request-map uri="anonSinglePageRedeemMemberLoyaltyPoints">
        <security direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="redeemMemberLoyaltyPoints"/>
        <response name="success" type="request" value="anonSinglePageClearcartfororder"/>
        <response name="error" type="view" value="anonSinglePageCheckout"/>
    </request-map>

    <request-map uri="anonSinglePageClearcartfororder">
        <security direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.ShoppingCartEvents" invoke="clearCart"/>
        <response name="success" type="request" value="emailorder"/>
        <response name="error" type="view" value="anonSinglePageCheckout"/>
    </request-map>

    <request-map uri="anonSinglePageSetPayPalCheckout">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="anonSinglePageSetPayPalCheckout"/>
      <response name="success" type="request" value="setPayPalCheckout"/>
      <response name="error" type="view" value="anonSinglePageCheckout"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    
    <request-map uri="anonSinglePagePayPalSubmitOrder">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkCartInventory"/>
      <response name="success" type="request" value="anonSinglePagePayPalGenerateOrder"/>
      <response name="error" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="anonSinglePagePayPalGenerateOrder">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="anonSinglePagePayPalSubmitOrder"/>
      <response name="success" type="request" value="anonSinglePageProcessCartAttribute"/>
      <response name="error" type="view" value="anonSinglePagePayPalOrderSummary"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="anonSinglePagePayPalOrderSummary">
        <security https="true" auth="false"/>
        <response name="success" type="view" value="anonSinglePagePayPalOrderSummary"/>
    </request-map>
    
    <!-- EBS anonymous single page checkout -->
    <request-map uri="anonSinglePageEBSCheckout">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="anonSinglePageEBSCheckout"/>
      <response name="success" type="request-redirect" value="setEbsCheckout"/>
      <response name="error" type="view" value="anonSinglePageCheckout"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <!-- PayNetz anonymous single page checkout -->
    <request-map uri="anonSinglePagePayNetzCheckout">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="anonSinglePagePayNetzCheckout"/>
      <response name="success" type="request-redirect" value="setPayNetzCheckout"/>
      <response name="error" type="view" value="anonSinglePageCheckout"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

<!-- END ANONYMOUS SINGLE PAGE CHECK OUT FLOW -->

<!-- START RETURNING SINGLE PAGE CHECK OUT FLOW -->

    <request-map uri="singlePage">
      <security https="true" auth="false"/>
      <response name="success" type="request" value="singlePageCheckout"/>
    </request-map>

    <request-map uri="singlePageCheckout">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
      <response name="success" type="view" value="singlePageCheckout"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
      <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="singlePageNewCheckoutAddress">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
      <response name="success" type="view" value="singlePageNewCheckoutAddress"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
      <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="singlePageValidateCheckoutAddress">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ValidationEvents.xml" invoke="checkUserSessionAndValidateAddress"/>
        <response name="success" type="request" value="singlePageUpdateCheckoutAddress"/>
        <response name="error" type="view" value="singlePageNewCheckoutAddress"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="singlePageUpdateCheckoutAddress">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Event/AddressEvents.xml" invoke="updateAddress"/>
        <response name="success" type="request" value="singlePageCheckout"/>
        <response name="error" type="view" value="singlePageNewCheckoutAddress"/>
    </request-map>

    <!-- SINGLE PAGE MUTLI-ADDRESS CHECK OUT FLOW -->
    <request-map uri="singlePageMultiAddress">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
      <response name="success" type="view" value="singlePageMultiAddress"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
      <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="singlePageNewCheckoutMultiAddress">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
      <response name="success" type="view" value="singlePageNewCheckoutMultiAddress"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
      <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="singlePageValidateMultiAddress">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
      <response name="success" type="request" value="singlePageValidateMultiAddressAfterSessionCheck"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
      <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="singlePageValidateMultiAddressAfterSessionCheck">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="setShipGroups"/>
        <response name="success" type="request" value="resetPaymentMethodSinglePageMultiShippingOptions"/>
        <response name="error" type="view" value="singlePageMultiAddress"/>
        <response name="emptyCart" type="request" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="resetPaymentMethodSinglePageMultiShippingOptions">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="resetPaymentMethod"/>
        <response name="success" type="request" value="singlePageMultiShippingOptions"/>
        <response name="error" type="view" value="singlePageMultiShippingOptions"/>
    </request-map>

    <request-map uri="singlePageValidateCheckoutMultiAddress">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ValidationEvents.xml" invoke="checkUserSessionAndValidateAddress"/>
        <response name="success" type="request" value="singlePageUpdateCheckoutMultiAddress"/>
        <response name="error" type="view" value="singlePageNewCheckoutMultiAddress"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="singlePageUpdateCheckoutMultiAddress">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Event/AddressEvents.xml" invoke="updateAddress"/>
        <response name="success" type="request" value="singlePageMultiAddress"/>
        <response name="error" type="view" value="singlePageNewCheckoutMultiAddress"/>
    </request-map>

    <request-map uri="singlePageMultiShippingOptions">
      <security https="true" auth="false"/>
      <response name="success" type="view" value="singlePageMultiShippingOptions"/>
    </request-map>
    
    <request-map uri="singlePageValidateMultiShippingOptions">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
      <response name="success" type="request" value="singlePageValidateMultiShippingOptionsAfterSessionCheck"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
      <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="singlePageValidateMultiShippingOptionsAfterSessionCheck">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="setShipOptions"/>
        <response name="success" type="request" value="singlePageCheckout"/>
        <response name="error" type="view" value="singlePageMultiShippingOptions"/>
    </request-map>

    <!-- SINGLE PAGE MUTLI-ADDRESS/OPTIONS CHECK OUT FLOW -->

    <request-map uri="singlePageUpdateShippingOption">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="setShippingAddressToCart"/>
      <response name="success" type="view" value="singlePageShippingOptions"/>
      <response name="error" type="view" value="singlePageShippingOptions"/>
    </request-map>

    <request-map uri="singlePageSetShippingOption">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="setShippingOption"/>
        <response name="success" type="request" value="singlePageResetPaymentMethods"/>
        <response name="error" type="view" value="singlePageCheckoutOrderItemsSummary"/>
    </request-map>
    
    <request-map uri="singlePageResetPaymentMethods">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="resetPaymentMethod"/>
        <response name="success" type="request" value="singlePageUpdateCartShippingOptions"/>
        <response name="error" type="view" value="singlePageCheckoutOrderItemsSummary"/>
    </request-map>
    
    <request-map uri="singlePageUpdateCartShippingOptions">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="updateCartOnChange"/>
      <response name="success" type="view" value="singlePageCheckoutOrderItemsSummary"/>
      <response name="error" type="view" value="singlePageCheckoutOrderItemsSummary"/>
    </request-map>

    <request-map uri="singlePageRefreshLoyaltyPoints">
        <security https="true" auth="false"/>
        <response name="success" type="view" value="singlePageLoyaltyPoints"/>
        <response name="error" type="view" value="singlePageLoyaltyPoints"/>
    </request-map>
    
    <request-map uri="singlePageRefreshGiftCard">
        <security https="true" auth="false"/>
        <response name="success" type="view" value="singlePageGiftCard"/>
        <response name="error" type="view" value="singlePageGiftCard"/>
    </request-map>
    
    <request-map uri="singlePagePromoCode">
        <security https="true" auth="false"/>
        <response name="success" type="request" value="singlePageUpdateCartSinglePagePromoCode"/>
        <response name="error" type="view" value="singlePagePromoCode"/>
    </request-map>
    
    <request-map uri="singlePageUpdateCartSinglePagePromoCode">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="updateCartOnChange"/>
      <response name="success" type="view" value="singlePagePromoCode"/>
      <response name="error" type="view" value="singlePagePromoCode"/>
    </request-map>
    
    <request-map uri="singlePageValidatePromoCode">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ShoppingCart.xml" invoke="validateCartPromoCodeCheckUserSession"/>
        <response name="success" type="request" value="singlePageAddPromoCode"/>
        <response name="error" type="view" value="singlePageCheckout"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="singlePageAddPromoCode">
        <security https="true" auth="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.ShoppingCartEvents" invoke="addProductPromoCode"/>
        <response name="success" type="request" value="singlePageUpdateCartSinglePageCheckout"/>
        <response name="error" type="view" value="singlePageCheckout"/>
    </request-map>
    
    <request-map uri="singlePageRemovePromoCode">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ShoppingCart.xml" invoke="removeCartPromoCodeCheckUserSession"/>
        <response name="success" type="request" value="singlePageUpdateCartSinglePageCheckout"/>
        <response name="error" type="view" value="singlePageCheckout"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="singlePageUpdateCartSinglePageCheckout">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="updateCartOnChange"/>
      <response name="success" type="view" value="singlePageCheckout"/>
      <response name="error" type="view" value="singlePageCheckout"/>
    </request-map>
    
    <request-map uri="validateSinglePageLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ShoppingCart.xml" invoke="validateLoyaltyPointsCheckUserSession"/>
        <response name="success" type="request" value="singlePageAddLoyaltyPoints"/>
        <response name="error" type="view" value="singlePageCheckout"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="singlePageAddLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="addLoyaltyPoints"/>
        <response name="success" type="request" value="singlePageUpdateCartSinglePageCheckout"/>
        <response name="error" type="view" value="singlePageCheckout"/>
    </request-map>
    
    <request-map uri="singlePageRemoveLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
        <response name="success" type="request" value="singlePageRemoveLoyaltyPointsAfterSessionCheck"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="singlePageRemoveLoyaltyPointsAfterSessionCheck">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="removeLoyaltyPoints"/>
        <response name="success" type="request" value="singlePageUpdateCartSinglePageCheckout"/>
        <response name="error" type="view" value="singlePageCheckout"/>
    </request-map>
    
    <request-map uri="validateSinglePageUpdateLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ShoppingCart.xml" invoke="validateUpdateLoyaltyPointsCheckUserSession"/>
        <response name="success" type="request" value="singlePageUpdateLoyaltyPoints"/>
        <response name="error" type="view" value="singlePageCheckout"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="singlePageUpdateLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="updateLoyaltyPoints"/>
        <response name="success" type="request" value="singlePageUpdateCartSinglePageCheckout"/>
        <response name="error" type="request-redirect" value="singlePageCheckout"/>
    </request-map>
    
    <request-map uri="singlePageReloadBalance">
        <security https="true" auth="false"/>
        <response name="success" type="view" value="singlePageOrderPayment"/>
        <response name="error" type="view" value="singlePageOrderPayment"/>
    </request-map>
    
    <request-map uri="singlePageSetPayPalCheckout">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="singlePageSetPayPalCheckout"/>
      <response name="success" type="request" value="setPayPalCheckout"/>
      <response name="error" type="view" value="singlePageCheckout"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="singlePageSubmitOrder">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkCartInventory"/>
      <response name="success" type="request" value="singlePageGenerateOrder"/>
      <response name="error" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="singlePageGenerateOrder">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="singlePageSubmitOrder"/>
      <response name="success" type="request" value="singlePageCalcShipping"/>
      <response name="creditCard" type="request" value="singlePageCalcShipping"/>
      <response name="cod" type="request" value="singlePageCalcShipping"/>
      <response name="eft" type="request" value="singlePageCalcShipping"/>
      <response name="error" type="view" value="singlePageCheckout"/>
      <response name="paymentError" type="request" value="singlePageProcesspaymentError"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="singlePageSetPaymentMethodOnCart">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="setPaymentMethodOnCart"/>
        <response name="success" type="request" value="singlePageCalcShipping"/>
        <response name="error" type="view" value="singlePageCheckout"/>
    </request-map>

    <request-map uri="singlePageCalcShipping">
        <security direct-request="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="setShippingTotalOnCart"/>
        <response name="success" type="request" value="singlePageCalculateTax"/>
        <response name="error" type="request" value="singlePageCheckout"/>
    </request-map>
    
    <request-map uri="singlePageCalculateTax">
        <security direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="calculateTax"/>
        <response name="success" type="request" value="singlePageCheckPaymentMethods"/>
        <response name="error" type="request" value="singlePageCheckout"/>
    </request-map>
    
    <request-map uri="singlePageCheckPaymentMethods">
        <security direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="checkPaymentMethods"/>
        <response name="success" type="request" value="singlePageProcessCartAttribute"/>
        <response name="error" type="request" value="singlePageCheckout"/>
    </request-map>
    
    <request-map uri="singlePagePayPalSubmitOrder">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkCartInventory"/>
      <response name="success" type="request" value="singlePagePayPalGenerateOrder"/>
      <response name="error" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="singlePagePayPalGenerateOrder">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="singlePagePayPalSubmitOrder"/>
      <response name="success" type="request" value="singlePageProcessCartAttribute"/>
      <response name="error" type="view" value="singlePagePayPalOrderSummary"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="singlePageProcessCartAttribute">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="processCartAttribute"/>
      <response name="success" type="request" value="singlePageProcessCartRecurrence"/>
    </request-map>

    <request-map uri="singlePageProcessCartRecurrence">
      <security https="true" auth="false"/>
      <event type="java" path="com.osafe.events.CheckOutEvents" invoke="processCartRecurrence"/>
      <response name="success" type="request" value="singlePageProcessorder"/>
    </request-map>

    <request-map uri="singlePageProcessorder">
        <security https="true" auth="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="createOrder"/>
        <response name="sales_order" type="request" value="singlePageCheckBlacklist"/>
        <response name="work_order" type="request" value="singlePageCheckBlacklist"/>
        <response name="error" type="view" value="singlePageCheckout"/>
    </request-map>

    <request-map uri="singlePageCheckBlacklist">
        <security direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="checkOrderBlacklist"/>
        <response name="success" type="request" value="singlePageProcesspayment"/>
<!--         <response name="failed" type="request" value="singlePageFailedBlacklist"/> -->
        <response name="error" type="view" value="singlePageCheckout"/>
    </request-map>

    <request-map uri="singlePageProcesspayment">
        <security https="true" direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="processPayment"/>
        <response name="success" type="request" value="singlePageCheckExternalPayment"/>
        <response name="fail" type="request" value="singlePageProcesspaymentFail"/>
        <response name="error" type="request" value="singlePageProcesspaymentError"/>
    </request-map>

    <request-map uri="singlePageCheckExternalPayment">
        <security https="true" direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="checkExternalPayment"/>
        <response name="none" type="request" value="singlePageAutoCapturePayments"/>
        <response name="offline" type="request" value="singlePageProcessBigfishInventory"/>
        <response name="worldpay" type="request" value="singlePageProcessBigfishInventory"/>
        <response name="paypal" type="request" value="singlePageProcessBigfishInventory"/>
        <response name="billact" type="request" value="singlePageProcessBigfishInventory"/>
        <response name="cod" type="request" value="singlePageProcessBigfishInventory"/>
        <response name="ebs" type="request" value="singlePageAutoCapturePayments"/>
        <response name="paynetz" type="request" value="singlePageAutoCapturePayments"/>
        <response name="error" type="view" value="singlePageCheckout"/>
    </request-map>

    <request-map uri="singlePageAutoCapturePayments">
        <security https="true" direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="autoCaptureAuthPayments"/>
        <response name="success" type="request" value="singlePageProcessBigfishInventory"/>
        <response name="fail" type="request" value="singlePageProcesspaymentFail"/>
        <response name="error" type="request" value="singlePageProcesspaymentError"/>
    </request-map>

    <request-map uri="singlePageProcesspaymentFail">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="processpaymentFail"/>
        <response name="success" type="request" value="singlePageCheckout"/>
        <response name="error" type="request" value="singlePageCheckout"/>
    </request-map>

    <request-map uri="singlePageProcesspaymentError">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="processpaymentError"/>
        <response name="success" type="view" value="singlePageCheckout"/>
        <response name="error" type="view" value="singlePageCheckout"/>
    </request-map>

    <request-map uri="singlePageProcessBigfishInventory">
        <security direct-request="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="processBigfishInventory"/>
        <response name="success" type="request" value="singlePageProcessRecurrenceItems"/>
        <response name="error" type="view" value="singlePageCheckout"/>
    </request-map>
    
    <request-map uri="singlePageProcessRecurrenceItems">
        <security direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="processCartRecurrenceItems"/>
        <response name="success" type="request" value="singlePageProcessOrderAdjustmentAttributes"/>
        <response name="error" type="view" value="singlePageCheckout"/>
    </request-map>
    
    <request-map uri="singlePageProcessOrderAdjustmentAttributes">
        <security direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="processOrderAdjustmentAttributes"/>
        <response name="success" type="request" value="singlePageRedeemMemberLoyaltyPoints"/>
        <response name="error" type="view" value="singlePageCheckout"/>
    </request-map>
    
    <request-map uri="singlePageRedeemMemberLoyaltyPoints">
        <security direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="redeemMemberLoyaltyPoints"/>
        <response name="success" type="request" value="singlePageClearcartfororder"/>
        <response name="error" type="view" value="singlePageCheckout"/>
    </request-map>
    
    <request-map uri="singlePageClearcartfororder">
        <security direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.ShoppingCartEvents" invoke="clearCart"/>
        <response name="success" type="request" value="emailorder"/>
        <response name="error" type="view" value="singlePageCheckout"/>
    </request-map>

    <request-map uri="singlePagePayPalOrderSummary">
        <security https="true" auth="false"/>
        <response name="success" type="view" value="singlePagePayPalOrderSummary"/>
    </request-map>
    
    <!-- EBS single page checkout -->
    <request-map uri="singlePageEBSCheckout">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="singlePageEBSCheckout"/>
      <response name="success" type="request-redirect" value="setEbsCheckout"/>
      <response name="error" type="view" value="singlePageCheckout"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <!-- PayNetz single page checkout -->
    <request-map uri="singlePagePayNetzCheckout">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="singlePagePayNetzCheckout"/>
      <response name="success" type="request-redirect" value="setPayNetzCheckout"/>
      <response name="error" type="view" value="singlePageCheckout"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
<!-- END RETURNING SINGLE PAGE CHECK OUT FLOW -->

<!-- START ANONYMOUS MULTI PAGE CHECK OUT FLOW -->
    <request-map uri="anonMultiPage">
      <security https="true" auth="false"/>
      <response name="success" type="request-redirect" value="anonMultiPageCustomerAddress"/>
    </request-map>

    <request-map uri="anonMultiPageCustomerAddress">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="anonMultiPageCustomerAddressProcessCart"/>
        <response name="success" type="view" value="anonMultiPageCustomerAddress"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
        <response name="myCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="anonMultiPageCreateCustomer">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="anonMultiPageCreateCustomer"/>
        <response name="payment" type="request" value="anonMultiPageCalcTaxPrePmnt"/>
        <response name="success" type="request-redirect" value="anonMultiPageShippingOptions"/>
        <response name="error" type="request" value="anonMultiPageCustomerAddress"/> 
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="anonMultiPageUpdateShippingOption">
      <security https="true" auth="false"/>
      <response name="success" type="view" value="anonMultiPageShippingOptions"/>
      <response name="error" type="view" value="anonMultiPageShippingOptions"/>
    </request-map>

    <request-map uri="anonMultiPageShippingOptions">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="anonMultiPageShippingOptionsProcessCart"/>
      <response name="success" type="request" value="anonMultiPageResetPaymentMethods"/>
      <response name="shippingaddress" type="request-redirect" value="anonMultiPageCustomerAddress"/>
      <response name="myCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="anonMultiPageResetPaymentMethods">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="resetPaymentMethod"/>
        <response name="success" type="request" value="anonMultiPageShippingOptionsShipGroup"/>
        <response name="error" type="view" value="anonMultiPageShippingOptions"/>
    </request-map>
    
    <request-map uri="anonMultiPageShippingOptionsShipGroup">
      <security https="true" auth="false"/>
      <event type="java" path="com.osafe.events.CheckOutEvents" invoke="splitShipGroupByShipOptions"/>
      <response name="success" type="view" value="anonMultiPageShippingOptions"/>
      <response name="multiShipGroups" type="view" value="anonMultiPageMultiShippingOptions"/>
    </request-map>

    <request-map uri="anonMultiPageValidateShippingOption">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="anonMultiPageValidateShippingOption"/>
        <response name="success" type="request" value="anonMultiPageSetShippingOption"/>
        <response name="error" type="request" value="anonMultiPageShippingOptions"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="anonMultiPageSetShippingOption">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="setShippingOption"/>
        <response name="success" type="request" value="anonMultiPageCalcShippingPrePmnt"/>
        <response name="error" type="request" value="anonMultiPageShippingOptions"/>
    </request-map>
    
    <request-map uri="anonMultiPageValidateMultiShippingOptions">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="setShipOptions"/>
        <response name="success" type="request" value="anonMultiPageCalculateTaxPrePmnt"/>
        <response name="error" type="view" value="anonMultiPageMultiShippingOptions"/>
    </request-map>
    
    <request-map uri="anonMultiPageCalcShippingPrePmnt">
        <security direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.shipping.ShippingEvents" invoke="getShipEstimate"/>
        <response name="success" type="request" value="anonMultiPageCalculateTaxPrePmnt"/>
        <response name="error" type="view" value="anonMultiPageMultiShippingOptions"/>
    </request-map>
    
    <request-map uri="anonMultiPageMultiAddress">
      <security https="true" auth="false"/>
      <response name="success" type="view" value="anonMultiPageMultiAddress"/>
    </request-map>
    
    <request-map uri="anonMultiPageValidateMultiAddress">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="setShipGroups"/>
        <response name="success" type="view" value="anonMultiPageMultiShippingOptions"/>
        <response name="error" type="view" value="anonMultiPageMultiAddress"/>
        <response name="emptyCart" type="request" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="anonMultiPageNewCheckoutMultiAddress">
      <security https="true" auth="false"/>
      <response name="success" type="view" value="anonMultiPageNewCheckoutMultiAddress"/>
    </request-map>

    <request-map uri="anonMultiPageValidateCheckoutMultiAddress">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ValidationEvents.xml" invoke="validateAddress"/>
        <response name="success" type="request" value="anonMultiPageUpdateCheckoutMultiAddress"/>
        <response name="error" type="view" value="anonMultiPageNewCheckoutMultiAddress"/>
    </request-map>
    
    <request-map uri="anonMultiPageUpdateCheckoutMultiAddress">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/AddressEvents.xml" invoke="updateAddress"/>
        <response name="success" type="request-redirect" value="anonMultiPageMultiAddress"/>
        <response name="error" type="view" value="anonMultiPageNewCheckoutMultiAddress"/>
    </request-map>
    
    <request-map uri="anonMultiPageCalculateTaxPrePmnt">
        <security direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="calculateTax"/>
        <response name="success" type="request-redirect" value="anonMultiPageUpdateCartOrderSummary"/>
        <response name="error" type="request" value="anonMultiPageShippingOptions"/>
    </request-map>  

   <request-map uri="anonMultiPageValidateCartPromoCode">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ShoppingCart.xml" invoke="validateCartPromoCodeCheckCartSession"/>
        <response name="success" type="request" value="anonMultiPageAddCartPromoCode"/>
        <response name="error" type="view" value="anonMultiPageOrderSummary"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="anonMultiPageRemoveCartPromoCode">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ShoppingCart.xml" invoke="removeCartPromoCodeCheckCartSession"/>
        <response name="success" type="request" value="anonMultiPageUpdateCartOrderSummary"/>
        <response name="error" type="request" value="anonMultiPageOrderSummary"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="anonMultiPageAddCartPromoCode">
        <security https="true" auth="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.ShoppingCartEvents" invoke="addProductPromoCode"/>
        <response name="success" type="request" value="anonMultiPageUpdateCartOrderSummary"/>
        <response name="error" type="request" value="anonMultiPageOrderSummary"/>
    </request-map>

    <request-map uri="anonMultiPageUpdateCartOrderSummary">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="anonMultiPageOrderSummaryProcessCart"/>
      <response name="success" type="view" value="anonMultiPageOrderSummary"/>
      <response name="error" type="view" value="anonMultiPageOrderSummary"/>
      <response name="shippingaddress" type="request-redirect" value="anonMultiPageCustomerAddress"/>
      <response name="shippingOptions" type="request-redirect" value="anonMultiPageShippingOptions"/>
    </request-map>

    <request-map uri="validateAnonMultiPageLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ShoppingCart.xml" invoke="validateLoyaltyPointsCheckCartSession"/>
        <response name="success" type="request" value="anonMultiPageAddLoyaltyPoints"/>
        <response name="error" type="view" value="anonMultiPageOrderSummary"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="anonMultiPageAddLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="addLoyaltyPoints"/>
        <response name="success" type="request" value="anonMultiPageUpdateCartOrderSummary"/>
        <response name="error" type="view" value="anonMultiPageOrderSummary"/>
    </request-map>
    <request-map uri="anonMultiPageRemoveLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkShoppingCartSession"/>
        <response name="success" type="request" value="anonMultiPageRemoveLoyaltyPointsAfterSessionCheck"/>
        <response name="error" type="view" value="eCommerceShowcart"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="anonMultiPageRemoveLoyaltyPointsAfterSessionCheck">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="removeLoyaltyPoints"/>
        <response name="success" type="request" value="anonMultiPageUpdateCartOrderSummary"/>
        <response name="error" type="view" value="anonMultiPageOrderSummary"/>
    </request-map>

    <request-map uri="validateAnonMultiPageUpdateLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ShoppingCart.xml" invoke="validateUpdateLoyaltyPointsCheckCartSession"/>
        <response name="success" type="request" value="anonMultiPageUpdateLoyaltyPoints"/>
        <response name="error" type="view" value="anonMultiPageOrderSummary"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="anonMultiPageUpdateLoyaltyPoints">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="updateLoyaltyPoints"/>
        <response name="success" type="request" value="anonMultiPageUpdateCartOrderSummary"/>
        <response name="error" type="request-redirect" value="anonMultiPageOrderSummary"/>
    </request-map>

    <request-map uri="anonMultiPageOrderSummary">
      <security https="true" auth="false"/>
      <response name="success" type="view" value="anonMultiPageOrderSummary"/>
    </request-map>

    <request-map uri="anonMultiPageSubmitOrder">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkCartInventory"/>
      <response name="success" type="request" value="anonMultiPageGenerateOrder"/>
      <response name="error" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="anonMultiPageGenerateOrder">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="anonMultiPageSubmitOrder"/>
        <response name="success" type="request" value="anonMultiPageCalcShipping"/>
        <response name="creditCard" type="request" value="anonMultiPageCalcShipping"/>
        <response name="cod" type="request" value="anonMultiPageCalcShipping"/>
        <response name="eft" type="request" value="anonMultiPageCalcShipping"/>
        <response name="error" type="view" value="anonMultiPageOrderSummary"/>
        <response name="paymentError" type="request" value="anonMultiPageProcesspaymentError"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="anonMultiPageSetPaymentMethodOnCart">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="setPaymentMethodOnCart"/>
        <response name="calcTax" type="request" value="anonMultiPageCalculateTax"/>
        <response name="success" type="request" value="anonMultiPageCalcShipping"/>
        <response name="error" type="view" value="anonMultiPageOrderSummary"/>
    </request-map>

    <request-map uri="anonMultiPageCalcShipping">
        <security direct-request="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="setShippingTotalOnCart"/>
        <response name="success" type="request" value="anonMultiPageCalculateTax"/>
        <response name="error" type="request" value="anonMultiPageOrderSummary"/>
    </request-map>
    
    <request-map uri="anonMultiPageCalculateTax">
        <security direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="calculateTax"/>
        <response name="success" type="request" value="anonMultiPageCheckPaymentMethods"/>
        <response name="error" type="request" value="anonMultiPageOrderSummary"/>
    </request-map>
    
    <request-map uri="anonMultiPageCheckPaymentMethods">
        <security direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="checkPaymentMethods"/>
        <response name="success" type="request" value="anonMultiPageProcessCartAttribute"/>
        <response name="error" type="request" value="anonMultiPageOrderSummary"/>
    </request-map>

    <request-map uri="anonMultiPageSetPayPalCheckout">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="anonMultiPageSetPayPalCheckout"/>
      <response name="success" type="request" value="setPayPalCheckout"/>
      <response name="error" type="view" value="anonMultiPageOrderSummary"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="anonMultiPagePayPalSubmitOrder">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkCartInventory"/>
      <response name="success" type="request" value="anonMultiPagePayPalGenerateOrder"/>
      <response name="error" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="anonMultiPagePayPalGenerateOrder">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="anonMultiPagePayPalSubmitOrder"/>
      <response name="success" type="request" value="anonMultiPageProcessCartAttribute"/>
      <response name="error" type="view" value="anonMultiPagePayPalOrderSummary"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="anonMultiPageProcessCartAttribute">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="processCartAttribute"/>
      <response name="success" type="request" value="anonMultiPageProcessCartRecurrence"/>
    </request-map>

    <request-map uri="anonMultiPageProcessCartRecurrence">
      <security https="true" auth="false"/>
      <event type="java" path="com.osafe.events.CheckOutEvents" invoke="processCartRecurrence"/>
      <response name="success" type="request" value="anonMultiPageProcessorder"/>
    </request-map>

    <request-map uri="anonMultiPageProcessorder">
        <security https="true" auth="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="createOrder"/>
        <response name="sales_order" type="request" value="anonMultiPageCheckBlacklist"/>
        <response name="work_order" type="request" value="anonMultiPageCheckBlacklist"/>
        <response name="error" type="view" value="anonMultiPageOrderSummary"/>
    </request-map>

    <request-map uri="anonMultiPageCheckBlacklist">
        <security direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="checkOrderBlacklist"/>
        <response name="success" type="request" value="anonMultiPageProcesspayment"/>
<!--         <response name="failed" type="request" value="anonMultiPageFailedBlacklist"/> -->
        <response name="error" type="view" value="anonMultiPageOrderSummary"/>
    </request-map>

    <request-map uri="anonMultiPageProcesspayment">
        <security https="true" direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="processPayment"/>
        <response name="success" type="request" value="anonMultiPageCheckExternalPayment"/>
        <response name="fail" type="request" value="anonMultiPageProcesspaymentFail"/>
        <response name="error" type="request" value="anonMultiPageProcesspaymentError"/>
    </request-map>

    <request-map uri="anonMultiPageCheckExternalPayment">
        <security https="true" direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="checkExternalPayment"/>
        <response name="none" type="request" value="anonMultiPageAutoCapturePayments"/>
        <response name="offline" type="request" value="anonMultiPageProcessBigfishInventory"/>
        <response name="worldpay" type="request" value="anonMultiPageProcessBigfishInventory"/>
        <response name="paypal" type="request" value="anonMultiPageProcessBigfishInventory"/>
        <response name="billact" type="request" value="anonMultiPageProcessBigfishInventory"/>
        <response name="cod" type="request" value="anonMultiPageProcessBigfishInventory"/>
        <response name="ebs" type="request" value="anonMultiPageAutoCapturePayments"/>
        <response name="paynetz" type="request" value="anonMultiPageAutoCapturePayments"/>
        <response name="error" type="view" value="anonMultiPageCheckout"/>
    </request-map>

    <request-map uri="anonMultiPageAutoCapturePayments">
        <security https="true" direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="autoCaptureAuthPayments"/>
        <response name="success" type="request" value="anonMultiPageProcessBigfishInventory"/>
        <response name="fail" type="request" value="anonMultiPageProcesspaymentFail"/>
        <response name="error" type="request" value="anonMultiPageProcesspaymentError"/>
    </request-map>

    <request-map uri="anonMultiPageProcesspaymentFail">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="processpaymentFail"/>
        <response name="success" type="request" value="anonMultiPageOrderSummary"/>
        <response name="error" type="request" value="anonMultiPageOrderSummary"/>
    </request-map>

    <request-map uri="anonMultiPageProcesspaymentError">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="processpaymentError"/>
        <response name="success" type="view" value="anonMultiPageOrderSummary"/>
        <response name="error" type="view" value="anonMultiPageOrderSummary"/>
    </request-map>

    <request-map uri="anonMultiPageProcessBigfishInventory">
        <security direct-request="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="processBigfishInventory"/>
        <response name="success" type="request" value="anonMultiPageProcessRecurrenceItems"/>
        <response name="error" type="view" value="anonMultiPageOrderSummary"/>
    </request-map>

    <request-map uri="anonMultiPageProcessRecurrenceItems">
        <security direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="processCartRecurrenceItems"/>
        <response name="success" type="request" value="anonMultiPageProcessOrderAdjustmentAttributes"/>
        <response name="error" type="view" value="anonMultiPageOrderSummary"/>
    </request-map>
    
    <request-map uri="anonMultiPageProcessOrderAdjustmentAttributes">
        <security direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="processOrderAdjustmentAttributes"/>
        <response name="success" type="request" value="anonMultiPageRedeemMemberLoyaltyPoints"/>
        <response name="error" type="view" value="anonMultiPageOrderSummary"/>
    </request-map>
    
    <request-map uri="anonMultiPageRedeemMemberLoyaltyPoints">
        <security direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="redeemMemberLoyaltyPoints"/>
        <response name="success" type="request" value="anonMultiPageClearcartfororder"/>
        <response name="error" type="view" value="anonMultiPageOrderSummary"/>
    </request-map>

    <request-map uri="anonMultiPageClearcartfororder">
        <security direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.ShoppingCartEvents" invoke="clearCart"/>
        <response name="success" type="request" value="emailorder"/>
        <response name="error" type="view" value="anonMultiPageOrderSummary"/>
    </request-map>

    <request-map uri="anonMultiPagePayPalOrderSummary">
        <security https="true" auth="false"/>
        <response name="success" type="view" value="anonMultiPagePayPalOrderSummary"/>
    </request-map>

    <!-- EBS anonymous multi-page checkout -->
    <request-map uri="anonMultiPageEBSCheckout">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="anonMultiPageEBSCheckout"/>
      <response name="success" type="request-redirect" value="setEbsCheckout"/>
      <response name="error" type="view" value="anonMultiPageOrderSummary"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <!-- PayNetz anonymous multi-page checkout -->
    <request-map uri="anonMultiPagePayNetzCheckout">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="anonMultiPagePayNetzCheckout"/>
      <response name="success" type="request-redirect" value="setPayNetzCheckout"/>
      <response name="error" type="view" value="anonMultiPageOrderSummary"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
<!-- END ANONYMOUS MULTI PAGE CHECK OUT FLOW -->

<!-- START RETURNING MULTI PAGE CHECK OUT FLOW -->
    <request-map uri="multiPage">
      <security https="true" auth="true"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkShippingApplies"/>
      <response name="shippingaddress" type="request-redirect" value="multiPageCustomerAddress"/>
      <response name="success" type="request" value="multiPageCheckoutOptions"/>
      <response name="sessionExpire" type="request" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
      <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>
    
    <!-- MULTI PAGE MUTLI-ADDRESS CHECK OUT FLOW -->
    <request-map uri="multiPageCustomerAddressValidation">
      <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="multiPageUpdateCustomerAddress"/>
      <response name="success" type="request" value="multiPageMultiAddress"/>
      <response name="error" type="view" value="multiPageCustomerAddress"/>
      <response name="sessionExpire" type="request" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="multiPageMultiAddress">
      <security https="true" auth="false"/>
      <response name="success" type="view" value="multiPageMultiAddress"/>
    </request-map>

    <request-map uri="multiPageNewCheckoutMultiAddress">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
      <response name="success" type="view" value="multiPageNewCheckoutMultiAddress"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
      <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="multiPageValidateMultiAddress">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
      <response name="success" type="request" value="multiPageValidateMultiAddressAfterSessionCheck"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
      <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="multiPageValidateMultiAddressAfterSessionCheck">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="setShipGroups"/>
        <response name="success" type="request" value="multiPageMultiShippingOptions"/>
        <response name="error" type="view" value="multiPageMultiAddress"/>
        <response name="emptyCart" type="request" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="multiPageValidateCheckoutMultiAddress">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ValidationEvents.xml" invoke="checkUserSessionAndValidateAddress"/>
        <response name="success" type="request" value="multiPageUpdateCheckoutMultiAddress"/>
        <response name="error" type="view" value="multiPageNewCheckoutMultiAddress"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="multiPageUpdateCheckoutMultiAddress">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Event/AddressEvents.xml" invoke="updateAddress"/>
        <response name="success" type="view" value="multiPageMultiAddress"/>
        <response name="error" type="view" value="multiPageNewCheckoutMultiAddress"/>
    </request-map>

    <request-map uri="multiPageMultiShippingOptions">
      <security https="true" auth="false"/>
      <response name="success" type="view" value="multiPageMultiShippingOptions"/>
    </request-map>
    
    <request-map uri="multiPageValidateMultiShippingOptions">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
      <response name="success" type="request" value="multiPageValidateMultiShippingOptionsAfterSessionCheck"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
      <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="multiPageValidateMultiShippingOptionsAfterSessionCheck">
        <security https="true" auth="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="setShipOptions"/>
        <response name="success" type="request" value="multiPageCalculateTaxPrePmnt"/>
        <response name="error" type="view" value="multiPageMultiShippingOptions"/>
    </request-map>

    <!-- MULTI PAGE MUTLI-ADDRESS/OPTIONS CHECK OUT FLOW -->
    
    <request-map uri="multiPageValidateShippingOption">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="multiPageValidateShippingOption"/>
        <response name="success" type="request" value="multiPageCheckoutOptions"/>
        <response name="payment" type="request" value="multiPageCalcShippingPrePmnt"/>
        <response name="error" type="request" value="multiPageShippingOptions"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="multiPageCheckoutOptions">
      <security https="true" auth="true"/>
      <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="setCheckOutPages"/>
      <response name="shippingaddress" type="request-redirect" value="multiPageCustomerAddress"/>
      <response name="shippingoptions" type="request-redirect" value="multiPageShippingOptions"/>
      <response name="payment" type="request" value="multiPageCalcShippingPrePmnt"/>
      <response name="confirm" type="request" value="multiPageCalcShipping"/>
      <response name="success" type="request" value="multiPageShippingAddress"/>
      <response name="error" type="request" value="multiPageCheckouterror"/>
    </request-map>

    <request-map uri="multiPageCustomerAddress">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
      <response name="success" type="view" value="multiPageCustomerAddress"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
      <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="multiPageUpdateCustomerAddress">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="multiPageUpdateCustomerAddress"/>
        <response name="payment" type="request" value="multiPageCalcShippingPrePmnt"/>
        <response name="success" type="request-redirect" value="multiPageShippingOptions"/>
        <response name="error" type="view" value="multiPageCustomerAddress"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="multiPageNewCheckoutAddress">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
      <response name="success" type="view" value="multiPageNewCheckoutAddress"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
      <response name="error" type="view" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="multiPageValidateCheckoutAddress">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ValidationEvents.xml" invoke="checkUserSessionAndValidateAddress"/>
        <response name="success" type="request" value="multiPageUpdateCheckoutAddress"/>
        <response name="error" type="view" value="multiPageNewCheckoutAddress"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="multiPageUpdateCheckoutAddress">
        <security https="true" auth="true"/>
        <event type="simple" path="component://osafe/script/Event/AddressEvents.xml" invoke="updateAddress"/>
        <response name="success" type="request-redirect" value="multiPageCustomerAddress"/>
        <response name="error" type="view" value="multiPageNewCheckoutAddress"/>
    </request-map>

    <request-map uri="multiPageUpdateShippingOption">
      <security https="true" auth="false"/>
      <response name="success" type="view" value="multiPageShippingOptions"/>
      <response name="error" type="view" value="multiPageShippingOptions"/>
    </request-map>
    
    <request-map uri="multiPageShippingOptions">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="multiPageShippingOptionsProcessCart"/>
      <response name="success" type="request" value="multiPageResetPaymentMethods"/>
      <response name="shippingaddress" type="request-redirect" value="multiPageCustomerAddress"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="multiPageResetPaymentMethods">
        <security https="false" auth="false"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="resetPaymentMethod"/>
        <response name="success" type="request" value="multiPageShippingOptionsShipGroup"/>
        <response name="error" type="view" value="multiPageShippingOptions"/>
    </request-map>
    
    <request-map uri="multiPageShippingOptionsShipGroup">
      <security https="true" auth="true"/>
      <event type="java" path="com.osafe.events.CheckOutEvents" invoke="splitShipGroupByShipOptions"/>
      <response name="success" type="view" value="multiPageShippingOptions"/>
      <response name="multiShipGroups" type="view" value="multiPageMultiShippingOptions"/>
    </request-map>

    <request-map uri="multiPageCalcShippingPrePmnt">
        <security direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.shipping.ShippingEvents" invoke="getShipEstimate"/>
        <response name="success" type="request" value="multiPageCalculateTaxPrePmnt"/>
        <response name="error" type="request" value="multiPageCheckoutpayment"/>
    </request-map>
    
    <request-map uri="multiPageCalculateTaxPrePmnt">
        <security direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="calculateTax"/>
        <response name="success" type="request-redirect" value="multiPageUpdateCartOrderSummary"/>
        <response name="error" type="request" value="multiPageCheckoutpayment"/>
    </request-map>
    
    <request-map uri="multiPageUpdateCartOrderSummary">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="multiPageOrderSummaryProcessCart"/>
      <response name="success" type="view" value="multiPageOrderSummary"/>
      <response name="error" type="view" value="multiPageCheckoutpayment"/>
      <response name="shippingaddress" type="request-redirect" value="multiPageCustomerAddress"/>
      <response name="shippingOptions" type="request-redirect" value="multiPageShippingOptions"/>
    </request-map>

    <request-map uri="multiPageCheckPaymentMethodsPrePmnt">
        <security direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="checkPaymentMethods"/>
        <response name="success" type="request-redirect" value="multiPageOrderSummary"/>
        <response name="error" type="request" value="multiPageCheckoutpayment"/>
    </request-map>

    <request-map uri="multiPageSubmitOrder">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkCartInventory"/>
      <response name="success" type="request" value="multiPageGenerateOrder"/>
      <response name="error" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="multiPageGenerateOrder">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="multiPageSubmitOrder"/>
        <response name="success" type="request" value="multiPageCalcShipping"/>
        <response name="creditCard" type="request" value="multiPageCalcShipping"/>
        <response name="cod" type="request" value="multiPageCalcShipping"/>
        <response name="eft" type="request" value="multiPageCalcShipping"/>
        <response name="error" type="view" value="multiPageOrderSummary"/>
        <response name="paymentError" type="request" value="multiPageProcesspaymentError"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="multiPageSetPaymentMethodOnCart">
        <security https="true" auth="true"/>
        <event type="java" path="com.osafe.events.ShoppingCartEvents" invoke="setPaymentMethodOnCart"/>
        <response name="success" type="request" value="multiPageCalcShipping"/>
        <response name="error" type="view" value="multiPageOrderSummary"/>
    </request-map>

    <request-map uri="multiPageOrderSummary">
      <security https="true" auth="true"/>
      <response name="success" type="view" value="multiPageOrderSummary"/>
    </request-map>

    <request-map uri="multiPageCalcShipping">
        <security direct-request="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="setShippingTotalOnCart"/>
        <response name="success" type="request" value="multiPageCalculateTax"/>
        <response name="error" type="request" value="multiPageCheckouterror"/>
    </request-map>

    <request-map uri="multiPageCalculateTax">
        <security direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="calculateTax"/>
        <response name="success" type="request" value="multiPageCheckPaymentMethods"/>
        <response name="error" type="request" value="multiPageCheckouterror"/>
    </request-map>
    
    <request-map uri="multiPageCheckPaymentMethods">
        <security direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="checkPaymentMethods"/>
        <response name="success" type="request" value="multiPageProcessCartAttribute"/>
        <response name="error" type="request" value="multiPageCheckoutpayment"/>
    </request-map>

    <request-map uri="multiPagePayPalSubmitOrder">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkCartInventory"/>
      <response name="success" type="request" value="multiPagePayPalGenerateOrder"/>
      <response name="error" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="multiPagePayPalGenerateOrder">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="multiPagePayPalSubmitOrder"/>
      <response name="success" type="request" value="multiPageProcessCartAttribute"/>
      <response name="error" type="view" value="multiPagePayPalOrderSummary"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="multiPageProcessCartAttribute">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="processCartAttribute"/>
      <response name="success" type="request" value="multiPageProcessCartRecurrence"/>
    </request-map>

    <request-map uri="multiPageProcessCartRecurrence">
      <security https="true" auth="false"/>
      <event type="java" path="com.osafe.events.CheckOutEvents" invoke="processCartRecurrence"/>
      <response name="success" type="request" value="multiPageProcessorder"/>
    </request-map>

    <request-map uri="multiPageProcessorder">
        <security https="true" auth="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="createOrder"/>
        <response name="sales_order" type="request" value="multiPageCheckBlacklist"/>
        <response name="work_order" type="request" value="multiPageCheckBlacklist"/>
        <response name="error" type="view" value="multiPageOrderSummary"/>
    </request-map>

    <request-map uri="multiPageCheckBlacklist">
        <security direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="checkOrderBlacklist"/>
        <response name="success" type="request" value="multiPageProcesspayment"/>
<!--         <response name="failed" type="request" value="multiPageFailedBlacklist"/> -->
        <response name="error" type="view" value="multiPageOrderSummary"/>
    </request-map>

    <request-map uri="multiPageProcesspayment">
        <security https="true" direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="processPayment"/>
        <response name="success" type="request" value="multiPageCheckExternalPayment"/>
        <response name="fail" type="request" value="multiPageProcesspaymentFail"/>
        <response name="error" type="request" value="multiPageProcesspaymentError"/>
    </request-map>

    <request-map uri="multiPageCheckExternalPayment">
        <security https="true" direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="checkExternalPayment"/>
        <response name="none" type="request" value="multiPageAutoCapturePayments"/>
        <response name="offline" type="request" value="multiPageProcessBigfishInventory"/>
        <response name="worldpay" type="request" value="multiPageProcessBigfishInventory"/>
        <response name="paypal" type="request" value="multiPageProcessBigfishInventory"/>
        <response name="billact" type="request" value="multiPageProcessBigfishInventory"/>
        <response name="cod" type="request" value="multiPageProcessBigfishInventory"/>
        <response name="ebs" type="request" value="multiPageAutoCapturePayments"/>
        <response name="paynetz" type="request" value="multiPageAutoCapturePayments"/>
        <response name="error" type="view" value="multiPageCheckout"/>
    </request-map>

    <request-map uri="multiPageAutoCapturePayments">
        <security https="true" direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="autoCaptureAuthPayments"/>
        <response name="success" type="request" value="multiPageProcessBigfishInventory"/>
        <response name="fail" type="request" value="multiPageProcesspaymentFail"/>
        <response name="error" type="request" value="multiPageProcesspaymentError"/>
    </request-map>

    <request-map uri="multiPageProcesspaymentFail">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="processpaymentFail"/>
        <response name="success" type="request" value="multiPageOrderSummary"/>
        <response name="error" type="request" value="multiPageOrderSummary"/>
    </request-map>

    <request-map uri="multiPageProcesspaymentError">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="processpaymentError"/>
        <response name="success" type="view" value="multiPageOrderSummary"/>
        <response name="error" type="view" value="multiPageOrderSummary"/>
    </request-map>
 
    <request-map uri="multiPageProcessBigfishInventory">
        <security direct-request="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="processBigfishInventory"/>
        <response name="success" type="request" value="multiPageProcessRecurrenceItems"/>
        <response name="error" type="view" value="multiPageOrderSummary"/>
    </request-map>

    <request-map uri="multiPageProcessRecurrenceItems">
        <security direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="processCartRecurrenceItems"/>
        <response name="success" type="request" value="multiPageProcessOrderAdjustmentAttributes"/>
        <response name="error" type="view" value="multiPageCheckout"/>
    </request-map>
    
    <request-map uri="multiPageProcessOrderAdjustmentAttributes">
        <security direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="processOrderAdjustmentAttributes"/>
        <response name="success" type="request" value="multiPageRedeemMemberLoyaltyPoints"/>
        <response name="error" type="view" value="multiPageCheckout"/>
    </request-map>
    
    <request-map uri="multiPageRedeemMemberLoyaltyPoints">
        <security direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="redeemMemberLoyaltyPoints"/>
        <response name="success" type="request" value="multiPageClearcartfororder"/>
        <response name="error" type="view" value="multiPageCheckout"/>
    </request-map>

    <request-map uri="multiPageClearcartfororder">
        <security direct-request="false"/>
        <event type="java" path="org.ofbiz.order.shoppingcart.ShoppingCartEvents" invoke="clearCart"/>
        <response name="success" type="request" value="emailorder"/>
        <response name="error" type="view" value="multiPageOrderSummary"/>
    </request-map>

    <request-map uri="multiPageCheckouterror">
      <security https="true" auth="true"/>
      <event type="java" path="org.ofbiz.order.shoppingcart.CheckOutEvents" invoke="setCheckOutError"/>
      <response name="shippingaddress" type="view" value="multiPageShippingAddress"/>
      <response name="shippingoptions" type="view" value="multiPageShippingOptions"/>
      <response name="payment" type="view" value="multiPageOrderSummary"/>
      <response name="confirm" type="request" value="multiPageCalcShipping"/>
      <response name="error" type="view" value="multiPageShippingAddress"/>
      <response name="success" type="view" value="multiPageShippingAddress"/>
    </request-map>

    <request-map uri="multiPageCheckoutpayment">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="multiPageOrderSummary"/>
    </request-map>

    <request-map uri="multiPagePayPalOrderSummary">
        <security https="true" auth="false"/>
        <response name="success" type="view" value="multiPagePayPalOrderSummary"/>
    </request-map>
    
    <!-- EBS multi-page checkout -->
    <request-map uri="multiPageEBSCheckout">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="multiPageEBSCheckout"/>
      <response name="success" type="request-redirect" value="setEbsCheckout"/>
      <response name="error" type="view" value="multiPageOrderSummary"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <!-- PayNetz multi-page checkout -->
    <request-map uri="multiPagePayNetzCheckout">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="multiPagePayNetzCheckout"/>
      <response name="success" type="request-redirect" value="setPayNetzCheckout"/>
      <response name="error" type="view" value="multiPageOrderSummary"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="setEbsCheckout">
        <security auth="false" https="true"/>
        <event type="java" path="com.osafe.events.ebs.EBSCheckoutEvents" invoke="ebsCheckoutCancel"/>
        <response name="success" type="request" value="setEbsCheckoutCancelled"/>
        <response name="error" type="view-last"/>
    </request-map>
    
    <request-map uri="setEbsCheckoutCancelled">
        <security auth="false" https="true"/>
        <event type="java" path="com.osafe.events.ebs.EBSCheckoutEvents" invoke="setEbsCheckout"/>
        <response name="success" type="request" value="ebsCheckoutRedirect"/>
        <response name="error" type="view-last"/>
    </request-map>
    
    <request-map uri="ebsCheckoutRedirect">
        <security https="false" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
        <response name="success" type="request" value="ebsCheckoutRedirectProcess"/>
        <response name="error" type="view-last"/>  
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="ebsCheckoutRedirectProcess">
        <security auth="false" https="true"/>
        <event type="java" path="com.osafe.events.ebs.EBSCheckoutEvents" invoke="ebsCheckoutRedirect"/>
        <response name="success" type="none"/>
        <response name="error" type="view-last"/>
    </request-map>
    
    <request-map uri="ebsCheckoutReturn">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
        <response name="success" type="request" value="ebsCheckoutReturnProcess"/>
        <response name="error" type="view-last"/>  
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="ebsCheckoutReturnProcess">
      <security https="true" auth="false"/>
      <event type="java" path="com.osafe.events.ebs.EBSCheckoutEvents" invoke="ebsCheckoutReturn"/>
      <response name="success" type="request" value="getEbsCheckoutDetails" />
      <response name="error" type="request" value="ebsCheckoutCancel"/>
    </request-map>
    
    <request-map uri="getEbsCheckoutDetails">
      <security https="true" auth="false"/>
      <event type="java" path="com.osafe.events.ebs.EBSCheckoutEvents" invoke="getEbsCheckoutDetails"/>
      <response name="success" type="request-redirect" value="ebsCheckoutPayment" />
      <response name="error" type="view-last"/>
    </request-map>
    
    <request-map uri="ebsCheckoutCancel">
        <security https="false" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
        <response name="success" type="request" value="ebsCheckoutCancelProcess"/>
        <response name="error" type="view-last"/>  
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="ebsCheckoutCancelProcess">
        <security auth="false" https="true"/>
        <event type="java" path="com.osafe.events.ebs.EBSCheckoutEvents" invoke="ebsCheckoutCancel"/>
        <response name="success" type="request" value="ebsCheckoutPaymentCancel"/>
    </request-map>

    <request-map uri="ebsCheckoutPaymentCancel">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="getCheckoutFlow"/>
        <response name="anonSinglePage" type="request-redirect" value="anonSinglePageCheckout"/>
        <response name="singlePage" type="request-redirect" value="singlePageCheckout"/>
        <response name="anonMultiPage" type="request-redirect" value="anonMultiPageOrderSummary"/>
        <response name="multiPage" type="request-redirect" value="multiPageOrderSummary"/>
        <response name="error" type="view-last"/>
    </request-map>
    
    <request-map uri="ebsCheckoutPayment">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="getCheckoutFlow"/>
        <response name="anonSinglePage" type="request-redirect" value="anonSinglePageProcessCartAttribute"/>
        <response name="singlePage" type="request-redirect" value="singlePageProcessCartAttribute"/>
        <response name="anonMultiPage" type="request-redirect" value="anonMultiPageProcessCartAttribute"/>
        <response name="multiPage" type="request-redirect" value="multiPageProcessCartAttribute"/>
        <response name="error" type="view-last"/>
    </request-map>

    <request-map uri="setPayNetzCheckout">
        <security auth="false" https="true"/>
        <event type="java" path="com.osafe.events.paynetz.PayNetzCheckoutEvents" invoke="payNetzCheckoutCancel"/>
        <response name="success" type="request" value="setPayNetzCheckoutCancelled"/>
        <response name="error" type="view-last"/>
    </request-map>
    <request-map uri="setPayNetzCheckoutCancelled">
        <security auth="false" https="true"/>
        <event type="java" path="com.osafe.events.paynetz.PayNetzCheckoutEvents" invoke="setPayNetzCheckout"/>
        <response name="test" type="request" value="payNetzCheckoutPayment"/>
        <response name="success" type="request" value="payNetzCheckoutRedirect"/>
        <response name="error" type="view-last"/>
    </request-map>
    
    <request-map uri="payNetzCheckoutRedirect">
        <security https="false" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
        <response name="success" type="request" value="payNetzCheckoutRedirectProcess"/>
        <response name="error" type="view-last"/>  
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="payNetzCheckoutRedirectProcess">
        <security auth="false" https="true"/>
        <event type="java" path="com.osafe.events.paynetz.PayNetzCheckoutEvents" invoke="payNetzCheckoutRedirect"/>
        <response name="success" type="none"/>
        <response name="error" type="view-last"/>
    </request-map>
    
    <request-map uri="payNetzCheckoutReturn">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
        <response name="success" type="request" value="payNetzCheckoutReturnProcess"/>
        <response name="error" type="view-last"/>  
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="payNetzCheckoutReturnProcess">
      <security https="true" auth="false"/>
      <event type="java" path="com.osafe.events.paynetz.PayNetzCheckoutEvents" invoke="payNetzCheckoutReturn"/>
      <response name="success" type="request" value="getPayNetzCheckoutDetails" />
      <response name="error" type="request" value="payNetzCheckoutCancel"/>
    </request-map>
    
    <request-map uri="getPayNetzCheckoutDetails">
      <security https="true" auth="false"/>
      <event type="java" path="com.osafe.events.paynetz.PayNetzCheckoutEvents" invoke="getPayNetzCheckoutDetails"/>
      <response name="success" type="request-redirect" value="payNetzCheckoutPayment" />
      <response name="error" type="view-last"/>
    </request-map>
    
    <request-map uri="payNetzCheckoutCancel">
        <security https="false" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
        <response name="success" type="request" value="payNetzCheckoutCancelProcess"/>
        <response name="error" type="view-last"/>  
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="payNetzCheckoutCancelProcess">
        <security auth="false" https="true"/>
        <event type="java" path="com.osafe.events.paynetz.PayNetzCheckoutEvents" invoke="payNetzCheckoutCancel"/>
        <response name="success" type="request" value="payNetzCheckoutPaymentCancel"/>
    </request-map>

    <request-map uri="payNetzCheckoutPaymentCancel">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="getCheckoutFlow"/>
        <response name="anonSinglePage" type="request-redirect" value="anonSinglePageCheckout"/>
        <response name="singlePage" type="request-redirect" value="singlePageCheckout"/>
        <response name="anonMultiPage" type="request-redirect" value="anonMultiPageOrderSummary"/>
        <response name="multiPage" type="request-redirect" value="multiPageOrderSummary"/>
        <response name="error" type="view-last"/>
    </request-map>
    
    <request-map uri="payNetzCheckoutPayment">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="getCheckoutFlow"/>
        <response name="anonSinglePage" type="request-redirect" value="anonSinglePageProcessCartAttribute"/>
        <response name="singlePage" type="request-redirect" value="singlePageProcessCartAttribute"/>
        <response name="anonMultiPage" type="request-redirect" value="anonMultiPageProcessCartAttribute"/>
        <response name="multiPage" type="request-redirect" value="multiPageProcessCartAttribute"/>
        <response name="error" type="view-last"/>
    </request-map>
<!-- END RETURNING MULTI PAGE CHECK OUT FLOW -->


    <request-map uri="autoCapturePayments">
        <security https="true" direct-request="false"/>
        <event type="java" path="com.osafe.events.CheckOutEvents" invoke="autoCaptureAuthPayments"/>
        <response name="success" type="request" value="emailorder"/>
    </request-map>

    <request-map uri="emailorder">
        <security https="true" direct-request="false"/>
        <event type="service" path="async" invoke="sendOrderConfirmation"/>
        <response name="success" type="request-redirect" value="eCommerceOrderComplete"/>
        <response name="error" type="view" value="eCommerceOrderComplete"/>
    </request-map>
    
    <request-map uri="eCommerceOrderComplete">
      <security https="true" auth="false"/>
      <event type="groovy" path="component://osafe/webapp/osafe/WEB-INF/actions/common/getOrderConfirm.groovy"/>
      <response name="orderHistory" type="request" value="eCommerceOrderHistory"/>
      <response name="orderConfirm" type="view" value="eCommerceOrderComplete"/>
    </request-map>

    <request-map uri="eCommerceOrderDetail">
      <security https="true" auth="true"/>
      <response name="success" type="view" value="eCommerceOrderDetail"/>
    </request-map>
    <!-- PDFs -->
    <request-map uri="EcommerceOrder.pdf">
     <security https="true" auth="false"/>
     <response name="success" type="view" value="EcommerceOrderPDF"/>
    </request-map>
    
    
    <!-- Credit Card Requests -->
    <request-map uri="editcreditcard">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="editcreditcard"/>
    </request-map>

    <request-map uri="createCreditCard">
        <security https="true" auth="true"/>
        <event type="simple" path="component://accounting/script/org/ofbiz/accounting/payment/PaymentMethodEvents.xml" invoke="createCreditCard"/>
        <!--
               To create a credit card and move to the next page we have to call a
               custom event that will put the newly created paymentMethodId on the cart
        -->
        <response name="success" type="request" value="setPaymentMethodOnCart"/>
        <response name="address" type="view" value="editcontactmech"/>
        <response name="error" type="view" value="multiPageOrderSummary"/>
    </request-map>

    <request-map uri="updateCreditCard">
        <security https="true" auth="true"/>
        <event type="simple" path="component://accounting/script/org/ofbiz/accounting/payment/PaymentMethodEvents.xml" invoke="updateCreditCard"/>
        <response name="success" type="view" value="editcreditcard"/>
        <response name="address" type="view" value="editcontactmech"/>
        <response name="error" type="view" value="editcreditcard"/>
    </request-map>

     <request-map uri="eCommerceOrderHistory">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="eCommerceOrderHistory"/>
    </request-map>
    
     <request-map uri="eCommerceReOrderItems">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="eCommerceReOrderItems"/>
    </request-map>
    
    <request-map uri="eCommerceRecurringOrder">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="eCommerceRecurringOrder"/>
    </request-map>
    
    <request-map uri="eCommerceRecurrenceOrderDetail">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="eCommerceRecurrenceOrderDetail"/>
    </request-map>
    
    <request-map uri="updateRecurringOrder">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="updateRecurringOrder"/>
        <response name="success" type="request" value="eCommerceRecurringOrder"/>
        <response name="error" type="view" value="eCommerceRecurrenceOrderDetail"/>
    </request-map>

    <!-- MULTI-STEP CHECK OUT FLOW -->

    <!-- Request Catalog -->
    <request-map uri="requestCatalog" edit="false">
        <security https="true" auth="false"/>
        <response name="success" type="view" value="ecommerceRequestCatalog"/>
    </request-map>
    <request-map uri="submitRequestCatalog">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CustRequestEvents.xml" invoke="submitRequestCatalog"/>
        <response name="success" type="view" value="eCommerceConfirmRequestCatalog"/>
        <response name="error" type="view" value="ecommerceRequestCatalog"/>
    </request-map>
    <request-map uri="eCommerceConfirmRequestCatalog">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="eCommerceConfirmRequestCatalog"/>
    </request-map>

    <!-- PayPal Express Checkout Requests -->
    <request-map uri="multiPageSetPayPalCheckout">
      <security https="true" auth="false"/>
      <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
      <response name="success" type="request" value="setPayPalCheckout"/>
      <response name="error" type="view" value="multiPageOrderSummary"/>
      <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
      <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="setPayPalCheckout">
        <security auth="false" https="true"/>
        <event type="java" path="org.ofbiz.order.thirdparty.paypal.ExpressCheckoutEvents" invoke="expressCheckoutCancel"/>
        <response name="success" type="request" value="setPayPalCheckoutCancelled"/>
        <response name="error" type="view-last"/>
    </request-map>
    <request-map uri="setPayPalCheckoutCancelled">
        <security auth="false" https="true"/>
        <event type="java" path="org.ofbiz.order.thirdparty.paypal.ExpressCheckoutEvents" invoke="setExpressCheckout"/>
        <response name="success" type="request" value="payPalCheckoutRedirect"/>
        <response name="error" type="view-last"/>
    </request-map>
    
    <request-map uri="payPalCheckoutRedirect">
        <security https="false" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
        <response name="success" type="request" value="payPalCheckoutRedirectProcess"/>
        <response name="error" type="view-last"/>  
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="payPalCheckoutRedirectProcess">
        <security auth="false" https="true"/>
        <event type="java" path="org.ofbiz.order.thirdparty.paypal.ExpressCheckoutEvents" invoke="expressCheckoutRedirect"/>
        <response name="success" type="none"/>
        <response name="error" type="view-last"/>
    </request-map>
    
    <request-map uri="payPalCheckoutReturn">
        <security https="false" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
        <response name="success" type="request" value="payPalCheckoutReturnProcess"/>
        <response name="error" type="view-last"/>  
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="payPalCheckoutReturnProcess">
        <security auth="false" https="true"/>
        <event type="java" path="org.ofbiz.order.thirdparty.paypal.ExpressCheckoutEvents" invoke="getExpressCheckoutDetails"/>
        <response name="success" type="request" value="checkoutPayPalPaymentProcess"/>
        <response name="error" type="view-last"/>
    </request-map>
    
    <request-map uri="payPalCheckoutCancel">
        <security https="false" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="checkUserSession"/>
        <response name="success" type="request" value="payPalCheckoutCancelProcess"/>
        <response name="error" type="view-last"/>  
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="payPalCheckoutCancelProcess">
        <security auth="false" https="true"/>
        <event type="java" path="org.ofbiz.order.thirdparty.paypal.ExpressCheckoutEvents" invoke="expressCheckoutCancel"/>
        <response name="success" type="request" value="checkoutPayPalPaymentCancel"/>
    </request-map>
    <request-map uri="checkoutPayPalPaymentCancel">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="getCheckoutFlow"/>
        <response name="anonSinglePage" type="request-redirect" value="anonSinglePageCheckout"/>
        <response name="singlePage" type="request-redirect" value="singlePageCheckout"/>
        <response name="anonMultiPage" type="request-redirect" value="anonMultiPageOrderSummary"/>
        <response name="multiPage" type="request-redirect" value="multiPageOrderSummary"/>
        <response name="error" type="view-last"/>
    </request-map>

    <request-map uri="payPalCheckoutUpdate">
        <description>Handles callbacks from PayPal's Express Checkout Instant Update API</description>
        <security auth="false" https="false"/>
        <event type="java" path="org.ofbiz.order.thirdparty.paypal.ExpressCheckoutEvents" invoke="expressCheckoutUpdate"/>
        <response name="success" type="none"/>
    </request-map>

    <request-map uri="checkoutPayPalPaymentProcess">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="processPayPalContactMech"/>
        <response name="success" type="request" value="checkoutPayPalPayment"/>
        <response name="error" type="view-last"/>
    </request-map>

    <request-map uri="checkoutPayPalPayment">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="getCheckoutFlow"/>
        <response name="anonSinglePage" type="request-redirect" value="anonSinglePagePayPalOrderSummary"/>
        <response name="singlePage" type="request-redirect" value="singlePagePayPalOrderSummary"/>
        <response name="anonMultiPage" type="request-redirect" value="anonMultiPagePayPalOrderSummary"/>
        <response name="multiPage" type="request-redirect" value="multiPagePayPalOrderSummary"/>
        <response name="error" type="view-last"/>
    </request-map>

    <!-- Store Location Requests -->
    <request-map uri="storeLocator">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="storeLocator"/>
    </request-map>
    <request-map uri="searchStoreLocator">
        <security https="false" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/StoreLocator.xml" invoke="validateAddress"/>
        <response name="success" type="request" value="storeLocator"/>
        <response name="error" type="view" value="storeLocator"/>
    </request-map>
    <request-map uri="searchStorePickup">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/StoreLocator.xml" invoke="validateAddress"/>
        <response name="success" type="request" value="storePickup"/>
        <response name="error" type="request" value="storePickup"/>
    </request-map>
    <request-map uri="storePickup">
        <security https="true" auth="false"/>
        <response name="success" type="view" value="storePickup"/>
    </request-map>
    <request-map uri="setStorePickup">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="setStorePickup"/>
        <response name="singlePage" type="request" value="singlePageCheckout"/>
        <response name="anonSinglePage" type="request" value="anonSinglePageCheckout"/>
        <response name="multiPage" type="request" value="multiPageShippingOptions"/>
        <response name="anonMultiPage" type="request" value="anonMultiPageShippingOptions"/>
        <response name="error" type="view-last"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    <request-map uri="setMultiPageOrderSummaryStorePickup">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="setStorePickup"/>
        <response name="success" type="none"/>
        <response name="multiPage" type="request" value="multiPageOrderSummary"/>
        <response name="anonMultiPage" type="request" value="anonMultiPageOrderSummary"/>
        <response name="error" type="view-last"/>
    </request-map>
    <request-map uri="removeStorePickup">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="removeStorePickup"/>
        <response name="success" type="none"/>
        <response name="error" type="view" value="storePickup"/>
    </request-map>
    <request-map uri="eCommerceStoreDetail">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="eCommerceStoreDetail"/>
    </request-map>

    <request-map uri="pincodeSearch">
        <security https="false" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/PinCodeChecker.xml" invoke="validateBlueDartPinCode"/>
        <response name="error" type="view" value="pincodeSearch"/>
        <response name="success" type="view" value="pincodeSearch"/>
    </request-map>

    <!-- Gift Card Payment Requests -->
    <request-map uri="anonSinglePageAddGiftCardNumber">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="addGiftCardNumberCheckCartSession"/>
        <response name="success" type="request" value="anonSinglePageCheckout"/>
        <response name="error" type="request" value="anonSinglePageCheckout"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="anonSinglePageRemoveGiftCardNumber">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="removeGiftCardNumberCheckCartSession"/>
        <response name="success" type="request" value="anonSinglePageCheckout"/>
        <response name="error" type="request" value="anonSinglePageCheckout"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="singlePageAddGiftCardNumber">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="addGiftCardNumberCheckUserSession"/>
        <response name="success" type="request" value="singlePageCheckout"/>
        <response name="error" type="request" value="singlePageCheckout"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="singlePageRemoveGiftCardNumber">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="removeGiftCardNumberCheckUserSession"/>
        <response name="success" type="request" value="singlePageCheckout"/>
        <response name="error" type="request" value="singlePageCheckout"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="multiPageAddGiftCardNumber">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="addGiftCardNumberCheckUserSession"/>
        <response name="success" type="request" value="multiPageOrderSummary"/>
        <response name="error" type="request" value="multiPageOrderSummary"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="multiPageRemoveGiftCardNumber">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="removeGiftCardNumberCheckUserSession"/>
        <response name="success" type="request" value="multiPageOrderSummary"/>
        <response name="error" type="request" value="multiPageOrderSummary"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

   <request-map uri="anonMultiPageAddGiftCardNumber">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="addGiftCardNumberCheckCartSession"/>
        <response name="success" type="request" value="anonMultiPageOrderSummary"/>
        <response name="error" type="request" value="anonMultiPageOrderSummary"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="anonMultiPageRemoveGiftCardNumber">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="removeGiftCardNumberCheckCartSession"/>
        <response name="success" type="request" value="anonMultiPageOrderSummary"/>
        <response name="error" type="request" value="anonMultiPageOrderSummary"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <!-- Store Credit Payment Requests -->
    <request-map uri="singlePageAddStoreCredit">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="addStoreCreditCheckUserSession"/>
        <response name="success" type="request" value="singlePageCheckout"/>
        <response name="error" type="request" value="singlePageCheckout"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>
    
    <request-map uri="singlePageRemoveStoreCredit">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="removeStoreCreditCheckUserSession"/>
        <response name="success" type="request" value="singlePageCheckout"/>
        <response name="error" type="request" value="singlePageCheckout"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="multiPageAddStoreCredit">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="addStoreCreditCheckUserSession"/>
        <response name="success" type="request" value="multiPageOrderSummary"/>
        <response name="error" type="request" value="multiPageOrderSummary"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="multiPageRemoveStoreCredit">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CheckoutEvents.xml" invoke="removeStoreCreditCheckUserSession"/>
        <response name="success" type="request" value="multiPageOrderSummary"/>
        <response name="error" type="request" value="multiPageOrderSummary"/>
        <response name="sessionExpire" type="request-redirect" value="MyAccount"/>
        <response name="emptyCart" type="request-redirect" value="eCommerceShowcart"/>
    </request-map>

    <request-map uri="bigfishInfo">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="bigfishInfo"/>
    </request-map>

    <request-map uri="emailAFriend">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="emailAFriend"/>
    </request-map>

    <request-map uri="submitEmailAFriend">
        <security https="false" auth="false"/>
        <event type="simple" path="component://osafe/script/Validation/ValidationEvents.xml" invoke="validateEmailAFriend"/>
        <response name="success" type="request" value="sendEmailAFriendNotification"/>
        <response name="error" type="view" value="emailAFriend"/>
    </request-map>
    
    <request-map uri="sendEmailAFriendNotification">
        <security https="true" auth="false"/>
         <event type="simple" path="component://osafe/script/Event/EmailEvents.xml" invoke="sendEmailAFriendNotification"/>
         <response name="success" type="request" value="emailAFriend"/>
         <response name="error" type="request" value="emailAFriend"/>
    </request-map>

    <!-- Request Quote -->
    <request-map uri="requestQuote" edit="false">
        <security https="true" auth="false"/>
        <response name="success" type="view" value="ecommerceRequestQuote"/>
    </request-map>
    <request-map uri="submitRequestQuote">
        <security https="true" auth="false"/>
        <event type="simple" path="component://osafe/script/Event/CustRequestEvents.xml" invoke="submitRequestQuote"/>
        <response name="success" type="view" value="eCommerceConfirmRequestQuote"/>
        <response name="error" type="view" value="ecommerceRequestQuote"/>
    </request-map>
    <request-map uri="eCommerceConfirmRequestQuote">
        <security https="false" auth="false"/>
        <response name="success" type="view" value="eCommerceConfirmRequestQuote"/>
    </request-map>

    <!-- View Mappings -->
    <view-map name="main" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceHomePage"/>
    <view-map name="errorPage" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceErrorPage"/>
    <view-map name="eCommerceConfirm" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceConfirm"/>

    <!-- LOGIN/CUSTOMER  -->
    <view-map name="eCommerceLogin" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceLogin"/>
    <view-map name="eCommerceForgotPassword" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceForgotPassword"/>
    <view-map name="eCommerceNewCustomer" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceNewCustomer"/>
    <view-map name="eCommerceRequirePasswordChange" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceRequirePasswordChange"/>
    <view-map name="MyAccount" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceMyAccount"/>
    
    <view-map name="shoppingListSearch" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceShoppingListSearch"/>
    <view-map name="eCommerceProductListShoppingSearch" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceProductListShoppingSearch"/>
    
    <view-map name="eCommerceEditCustomerInfo" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceEditCustomerInfo"/>
    <view-map name="eCommerceEditCreditCardInfo" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceEditCreditCardInfo"/>
    <view-map name="editCreditCardNewAddress" type="screen" page="component://osafe/widget/EcommerceScreens.xml#editCreditCardNewAddress"/>
    <view-map name="eCommerceCreateCreditCardInfo" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceCreateCreditCardInfo"/>
    <view-map name="createCreditCardNewAddress" type="screen" page="component://osafe/widget/EcommerceScreens.xml#createCreditCardNewAddress"/>
    <view-map name="eCommerceEditLoginInfo" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceEditLoginInfo"/>
    <view-map name="eCommerceEditCustomerLogin" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceEditCustomerLogin"/>
    <view-map name="eCommerceEditCustomerPassword" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceEditCustomerPassword"/>
    
    <view-map name="eCommerceEditAddressBook" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceEditAddressBook"/>
    <view-map name="eCommerceOrderHistory" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceOrderHistory"/>
    <view-map name="eCommerceUpdateAddressBook" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceUpdateAddressBook"/>
    <view-map name="eCommercePaymentMethodInfo" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommercePaymentMethodInfo"/>
    <view-map name="eCommerceEMailSubscriber" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceEMailSubscriber"/>
    <view-map name="eCommerceConfirmMailingList" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceConfirmMailingList"/>
    <view-map name="eCommerceReOrderItems" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceReOrderItems"/>
    <view-map name="eCommerceRecurringOrder" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceRecurringOrder"/>
    <view-map name="eCommerceRecurrenceOrderDetail" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceRecurrenceOrderDetail"/>

    <view-map name="eCommerceEftPaymentMethodInfo" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceEftPaymentMethodInfo"/>
    <view-map name="eCommerceEditEftAccountInfo" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceEditEftAccountInfo"/>
    <view-map name="editEftNewAddress" type="screen" page="component://osafe/widget/EcommerceScreens.xml#editEftNewAddress"/>
    <view-map name="eCommerceCreateFftAccountInfo" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceCreateFftAccountInfo"/>
    <view-map name="createEftNewAddress" type="screen" page="component://osafe/widget/EcommerceScreens.xml#createEftNewAddress"/>

    <!-- EMAIL  -->

    <view-map name="contactUs" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceContactUs"/>
    <view-map name="eCommerceConfirmContactUs" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceConfirmContactUs"/>

    <!-- CATEGORY/PRODUCT -->
    <view-map name="eCommerceCategoryList" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceCategoryList"/>
    <view-map name="eCommerceProductList" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceProductList"/>
    
    <view-map name="eCommerceSearchResultNotFound" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceSearchResultNotFound"/>
    <view-map name="eCommerceProductDetail" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceProductDetail"/>
    <view-map name="sortPdpReview" type="screen" page="component://osafe/widget/EcommerceDivScreens.xml#pdpReviewList"/>
    <view-map name="sortPdpTabsReview" type="screen" page="component://osafe/widget/EcommerceDivScreens.xml#pdpTabsReviewList"/>
    <view-map name="sortQuicklookReview" type="screen" page="component://osafe/widget/EcommerceDivScreens.xml#quicklookReviewList"/>
    
    <view-map name="eCommerceContent" type="screen" page="component://osafe/widget/EcommerceContentScreens.xml#eCommerceContent"/>
    <view-map name="eCommerceStaticContent" type="screen" page="component://osafe/widget/EcommerceContentScreens.xml#eCommerceStaticContent"/>
    <view-map name="eCommerceProductReviewSubmit" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceProductReviewSubmit"/>
    <view-map name="eCommerceProductReviewSubmitLogged" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceProductReviewSubmitLogged"/>
    <view-map name="eCommerceSubmitRatingsThankyou" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceSubmitRatingsThankyou"/>
    <view-map name="ratingsTermsAndConditions" type="screen" page="component://osafe/widget/EcommerceScreens.xml#ratingsTermsAndConditions"/>
    <view-map name="ratingsGuideLines" type="screen" page="component://osafe/widget/EcommerceScreens.xml#ratingsGuideLines"/>
    <view-map name="eCommerceManufacturerDetail" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceManufacturerDetail"/>
    <view-map name="eCommerceUploadFile" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceUploadFile"/>

    <!-- SHOPPING CART -->
    <view-map name="eCommerceShowcart" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#eCommerceShowcart"/>
    <view-map name="eCommerceShowWishList" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#eCommerceShowWishList"/>

    <view-map name="eCommerceGiftMessage" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#eCommerceGiftMessage"/>
    
    <view-map name="eCommerceOrderConfirmGiftMessage" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#eCommerceOrderConfirmGiftMessage"/>
    
    
<!-- START RETURNING MULTI PAGE CHECK OUT FLOW -->
    <view-map name="multiPageCustomerAddress" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#multiPageCustomerAddress"/>
    <view-map name="multiPageNewCheckoutAddress" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#multiPageNewCheckoutAddress"/>
    <view-map name="multiPageNewCheckoutMultiAddress" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#multiPageNewCheckoutMultiAddress"/>
    <view-map name="multiPageMultiAddress" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#multiPageMultiAddress"/>
    <view-map name="multiPageShippingOptions" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#multiPageShippingOptions"/>
    <view-map name="multiPageMultiShippingOptions" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#multiPageMultiShippingOptions"/>
    <view-map name="multiPageOrderSummary" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#multiPageOrderSummary"/>
    <view-map name="multiPagePayPalOrderSummary" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#multiPagePayPalOrderSummary"/>
    <view-map name="eCommerceOrderComplete" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#eCommerceOrderComplete"/>
<!-- END RETURNING MULTI PAGE CHECK OUT FLOW -->

    <!-- ANONYMOUS (GUEST) MULTI PAGE CHECKOUT FLOW -->
    <view-map name="anonMultiPageNewCheckoutMultiAddress" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#anonMultiPageNewCheckoutMultiAddress"/>
    <view-map name="anonMultiPageCustomerAddress" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#anonMultiPageCustomerAddress"/>
    <view-map name="anonMultiPageMultiAddress" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#anonMultiPageMultiAddress"/>
    <view-map name="anonMultiPageShippingOptions" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#anonMultiPageShippingOptions"/>
    <view-map name="anonMultiPageMultiShippingOptions" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#anonMultiPageMultiShippingOptions"/>
    <view-map name="anonMultiPageOrderSummary" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#anonMultiPageOrderSummary"/>
    <view-map name="anonMultiPagePayPalOrderSummary" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#anonMultiPagePayPalOrderSummary"/>
    <!-- ANONYMOUS (GUEST) MULTI PAGE CHECKOUT FLOW -->

    <!-- ANONYMOUS (GUEST) SINGLE PAGE CHECK OUT FLOW -->
    <view-map name="anonSinglePageCheckout" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#anonSinglePageCheckout"/>
    <view-map name="anonSinglePageMultiAddress" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#anonSinglePageMultiAddress"/>
    <view-map name="anonSinglePageMultiShippingOptions" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#anonSinglePageMultiShippingOptions"/>
    <view-map name="anonSinglePageShippingOptions" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#anonSinglePageShippingOptions"/>
    <view-map name="anonSinglePageCheckoutOrderItemsSummary" type="screen" page="component://osafe/widget/EcommerceDivScreens.xml#onePageCheckoutOrderItemsSummary"/>
    <view-map name="anonSinglePagePromoCode" type="screen" page="component://osafe/widget/EcommerceDivScreens.xml#anononePageCheckoutPromoCode"/>
    <view-map name="anonSinglePagePayPalOrderSummary" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#anonSinglePagePayPalOrderSummary"/>
    <view-map name="anonSinglePageLoyaltyPoints" type="screen" page="component://osafe/widget/EcommerceDivScreens.xml#anononePageCheckoutLoyaltyPoints"/>
    <view-map name="anonSinglePageGiftCard" type="screen" page="component://osafe/widget/EcommerceDivScreens.xml#anononePageCheckoutGiftCard"/>
    <!-- ANONYMOUS (GUEST) SINGLE PAGE CHECK OUT FLOW -->
    
    <!-- RETURNING SINGLE PAGE CHECK OUT FLOW -->
    <view-map name="singlePageCheckout" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#singlePageCheckout"/>
    <view-map name="singlePageNewCheckoutAddress" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#singlePageNewCheckoutAddress"/>
    <view-map name="singlePageNewCheckoutMultiAddress" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#singlePageNewCheckoutMultiAddress"/>
    <view-map name="singlePageMultiAddress" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#singlePageMultiAddress"/>
    <view-map name="singlePageMultiShippingOptions" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#singlePageMultiShippingOptions"/>
    <view-map name="singlePageShippingOptions" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#singlePageShippingOptions"/>
    <view-map name="singlePageCheckoutOrderItemsSummary" type="screen" page="component://osafe/widget/EcommerceDivScreens.xml#onePageCheckoutOrderItemsSummary"/>
    <view-map name="singlePagePromoCode" type="screen" page="component://osafe/widget/EcommerceDivScreens.xml#onePageCheckoutPromoCode"/>
    <view-map name="singlePagePayPalOrderSummary" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#singlePagePayPalOrderSummary"/>
    <view-map name="singlePageLoyaltyPoints" type="screen" page="component://osafe/widget/EcommerceDivScreens.xml#onePageCheckoutLoyaltyPoints"/>
    <view-map name="singlePageGiftCard" type="screen" page="component://osafe/widget/EcommerceDivScreens.xml#onePageCheckoutGiftCard"/>
    <view-map name="singlePageOrderPayment" type="screen" page="component://osafe/widget/EcommerceCheckoutScreens.xml#singlePageOrderPayment"/>
    <!-- RETURNING SINGLE PAGE CHECK OUT FLOW -->
    

    <!-- Order -->
    <view-map name="eCommerceOrderDetail" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceOrderDetail"/>
    <view-map name="EcommerceOrderPDF" type="screenfop" page="component://osafe/widget/EcommerceScreens.xml#EcommerceOrderPDF" content-type="application/pdf" encoding="none"/>

    <!-- Request Catalog -->
    <view-map name="ecommerceRequestCatalog" type="screen" page="component://osafe/widget/EcommerceScreens.xml#ecommerceRequestCatalog"/>
    <view-map name="eCommerceConfirmRequestCatalog" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceConfirmRequestCatalog"/>

    <!-- AJAX responses -->
    <view-map name="ajaxSuccessResponse" type="screen" page="component://osafe/widget/CommonScreens.xml#ajaxSuccessResponse"/>
    <view-map name="ajaxFailResponse" type="screen" page="component://osafe/widget/CommonScreens.xml#ajaxFailResponse"/>

    <!-- Store Location -->
    <view-map name="storeLocator" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceStoreLocator"/>
    <view-map name="storePickup" type="screen" page="component://osafe/widget/DialogScreens.xml#storePickupSearchResult"/>
    <view-map name="eCommerceStoreDetail" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceStoreDetail"/>
    
    <!-- <view-map name="findAutoSuggestions" type="screen" page="component://osafe/widget/EcommerceScreens.xml#findAutoSuggestions"/> -->

    <view-map name="bigfishInfo" type="screen" page="component://osafe/widget/EcommerceScreens.xml#bigfishInfo"/>
    <view-map name="emailAFriend" type="screen" page="component://osafe/widget/EcommerceScreens.xml#emailAFriend"/>

    <!-- Dialog Screens -->
    <view-map name="eCommercePlpQuickLook" type="screen" page="component://osafe/widget/DialogScreens.xml#eCommercePlpQuickLook"/>
    <view-map name="pincodeSearch" type="screen" page="component://osafe/widget/DialogScreens.xml#pincodeSearch"/>
   
    <!-- Request Quote -->
    <view-map name="ecommerceRequestQuote" type="screen" page="component://osafe/widget/EcommerceScreens.xml#ecommerceRequestQuote"/>
    <view-map name="eCommerceConfirmRequestQuote" type="screen" page="component://osafe/widget/EcommerceScreens.xml#eCommerceConfirmRequestQuote"/>
   
</site-conf>
